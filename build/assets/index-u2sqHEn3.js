(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function BE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zd={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function ZS(){if(G_)return _l;G_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return _l.Fragment=e,_l.jsx=n,_l.jsxs=n,_l}var K_;function JS(){return K_||(K_=1,zd.exports=ZS()),zd.exports}var oe=JS(),Bd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function eb(){if(Q_)return Re;Q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Y={};function H(D,ee,ae){this.props=D,this.context=ee,this.refs=Y,this.updater=ae||P}H.prototype.isReactComponent={},H.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},H.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=H.prototype;function re(D,ee,ae){this.props=D,this.context=ee,this.refs=Y,this.updater=ae||P}var te=re.prototype=new $;te.constructor=re,k(te,H.prototype),te.isPureReactComponent=!0;var de=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function M(D,ee,ae,ne,ge,De){return ae=De.ref,{$$typeof:r,type:D,key:ee,ref:ae!==void 0?ae:null,props:De}}function b(D,ee){return M(D.type,ee,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return ee[ae]})}var x=/\/+/g;function L(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):ee.toString(36)}function C(){}function Vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function at(D,ee,ae,ne,ge){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=D._init,at(Ae(D._payload),ee,ae,ne,ge)}}if(Ae)return ge=ge(D),Ae=ne===""?"."+L(D,0):ne,de(ge)?(ae="",Ae!=null&&(ae=Ae.replace(x,"$&/")+"/"),at(ge,ee,ae,"",function(Hn){return Hn})):ge!=null&&(w(ge)&&(ge=b(ge,ae+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(x,"$&/")+"/")+Ae)),ee.push(ge)),1;Ae=0;var It=ne===""?".":ne+":";if(de(D))for(var Ze=0;Ze<D.length;Ze++)ne=D[Ze],De=It+L(ne,Ze),Ae+=at(ne,ee,ae,De,ge);else if(Ze=R(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(ne=D.next()).done;)ne=ne.value,De=It+L(ne,Ze++),Ae+=at(ne,ee,ae,De,ge);else if(De==="object"){if(typeof D.then=="function")return at(Vt(D),ee,ae,ne,ge);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(D,ee,ae){if(D==null)return D;var ne=[],ge=0;return at(D,ne,"","",function(De){return ee.call(ae,De,ge++)}),ne}function se(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Be(){}return Re.Children={map:K,forEach:function(D,ee,ae){K(D,function(){ee.apply(this,arguments)},ae)},count:function(D){var ee=0;return K(D,function(){ee++}),ee},toArray:function(D){return K(D,function(ee){return ee})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=H,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return he.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,ee,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=k({},D.props),ge=D.key,De=void 0;if(ee!=null)for(Ae in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(ge=""+ee.key),ee)!we.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(ne[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)ne.children=ae;else if(1<Ae){for(var It=Array(Ae),Ze=0;Ze<Ae;Ze++)It[Ze]=arguments[Ze+2];ne.children=It}return M(D.type,ge,void 0,void 0,De,ne)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,ee,ae){var ne,ge={},De=null;if(ee!=null)for(ne in ee.key!==void 0&&(De=""+ee.key),ee)we.call(ee,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ge[ne]=ee[ne]);var Ae=arguments.length-2;if(Ae===1)ge.children=ae;else if(1<Ae){for(var It=Array(Ae),Ze=0;Ze<Ae;Ze++)It[Ze]=arguments[Ze+2];ge.children=It}if(D&&D.defaultProps)for(ne in Ae=D.defaultProps,Ae)ge[ne]===void 0&&(ge[ne]=Ae[ne]);return M(D,De,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=w,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:se}},Re.memo=function(D,ee){return{$$typeof:y,type:D,compare:ee===void 0?null:ee}},Re.startTransition=function(D){var ee=he.T,ae={};he.T=ae;try{var ne=D(),ge=he.S;ge!==null&&ge(ae,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Be,me)}catch(De){me(De)}finally{he.T=ee}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(D){return he.H.use(D)},Re.useActionState=function(D,ee,ae){return he.H.useActionState(D,ee,ae)},Re.useCallback=function(D,ee){return he.H.useCallback(D,ee)},Re.useContext=function(D){return he.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,ee){return he.H.useDeferredValue(D,ee)},Re.useEffect=function(D,ee,ae){var ne=he.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(D,ee)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(D,ee,ae){return he.H.useImperativeHandle(D,ee,ae)},Re.useInsertionEffect=function(D,ee){return he.H.useInsertionEffect(D,ee)},Re.useLayoutEffect=function(D,ee){return he.H.useLayoutEffect(D,ee)},Re.useMemo=function(D,ee){return he.H.useMemo(D,ee)},Re.useOptimistic=function(D,ee){return he.H.useOptimistic(D,ee)},Re.useReducer=function(D,ee,ae){return he.H.useReducer(D,ee,ae)},Re.useRef=function(D){return he.H.useRef(D)},Re.useState=function(D){return he.H.useState(D)},Re.useSyncExternalStore=function(D,ee,ae){return he.H.useSyncExternalStore(D,ee,ae)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.0",Re}var Y_;function Vm(){return Y_||(Y_=1,Bd.exports=eb()),Bd.exports}var G=Vm();const Nr=BE(G);var jd={exports:{}},vl={},qd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function tb(){return $_||($_=1,function(r){function e(K,se){var me=K.length;K.push(se);e:for(;0<me;){var Be=me-1>>>1,D=K[Be];if(0<o(D,se))K[Be]=se,K[me]=D,me=Be;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],me=K.pop();if(me!==se){K[0]=me;e:for(var Be=0,D=K.length,ee=D>>>1;Be<ee;){var ae=2*(Be+1)-1,ne=K[ae],ge=ae+1,De=K[ge];if(0>o(ne,me))ge<D&&0>o(De,ne)?(K[Be]=De,K[ge]=me,Be=ge):(K[Be]=ne,K[ae]=me,Be=ae);else if(ge<D&&0>o(De,me))K[Be]=De,K[ge]=me,Be=ge;else break e}}return se}function o(K,se){var me=K.sortIndex-se.sortIndex;return me!==0?me:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,R=3,P=!1,k=!1,Y=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function de(K){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=K)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function he(K){if(Y=!1,de(K),!k)if(n(p)!==null)k=!0,we||(we=!0,L());else{var se=n(y);se!==null&&at(he,se.startTime-K)}}var we=!1,M=-1,b=5,w=-1;function O(){return H?!0:!(r.unstable_now()-w<b)}function x(){if(H=!1,we){var K=r.unstable_now();w=K;var se=!0;try{e:{k=!1,Y&&(Y=!1,re(M),M=-1),P=!0;var me=R;try{t:{for(de(K),S=n(p);S!==null&&!(S.expirationTime>K&&O());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,R=S.priorityLevel;var D=Be(S.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){S.callback=D,de(K),se=!0;break t}S===n(p)&&s(p),de(K)}else s(p);S=n(p)}if(S!==null)se=!0;else{var ee=n(y);ee!==null&&at(he,ee.startTime-K),se=!1}}break e}finally{S=null,R=me,P=!1}se=void 0}}finally{se?L():we=!1}}}var L;if(typeof te=="function")L=function(){te(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Vt=C.port2;C.port1.onmessage=x,L=function(){Vt.postMessage(null)}}else L=function(){$(x,0)};function at(K,se){M=$(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(K){switch(R){case 1:case 2:case 3:var se=3;break;default:se=R}var me=R;R=se;try{return K()}finally{R=me}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=R;R=K;try{return se()}finally{R=me}},r.unstable_scheduleCallback=function(K,se,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,K={id:E++,callback:se,priorityLevel:K,startTime:me,expirationTime:D,sortIndex:-1},me>Be?(K.sortIndex=me,e(y,K),n(p)===null&&K===n(y)&&(Y?(re(M),M=-1):Y=!0,at(he,me-Be))):(K.sortIndex=D,e(p,K),k||P||(k=!0,we||(we=!0,L()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var se=R;return function(){var me=R;R=se;try{return K.apply(this,arguments)}finally{R=me}}}}(Hd)),Hd}var X_;function nb(){return X_||(X_=1,qd.exports=tb()),qd.exports}var Fd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function ib(){if(W_)return Gt;W_=1;var r=Vm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Gt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var Z_;function rb(){if(Z_)return Fd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=ib(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function sb(){if(J_)return vl;J_=1;var r=nb(),e=Vm(),n=rb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),te=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case H:return"Profiler";case Y:return"StrictMode";case he:return"Suspense";case we:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case te:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:Vt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Vt(t(i))}catch{}}return null}var at=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],D=-1;function ee(t){return{current:t}}function ae(t){0>D||(t.current=Be[D],Be[D]=null,D--)}function ne(t,i){D++,Be[D]=t.current,t.current=i}var ge=ee(null),De=ee(null),Ae=ee(null),It=ee(null);function Ze(t,i){switch(ne(Ae,i),ne(De,t),ne(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?v_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=v_(i),t=E_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(ge),ne(ge,t)}function Hn(){ae(ge),ae(De),ae(Ae)}function Xi(t){t.memoizedState!==null&&ne(It,t);var i=ge.current,a=E_(i,t.type);i!==a&&(ne(De,t),ne(ge,a))}function mi(t){De.current===t&&(ae(ge),ae(De)),It.current===t&&(ae(It),dl._currentValue=me)}var Kr=Object.prototype.hasOwnProperty,Qr=r.unstable_scheduleCallback,Yr=r.unstable_cancelCallback,uo=r.unstable_shouldYield,ru=r.unstable_requestPaint,gn=r.unstable_now,Uh=r.unstable_getCurrentPriorityLevel,co=r.unstable_ImmediatePriority,Hs=r.unstable_UserBlockingPriority,$r=r.unstable_NormalPriority,zh=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,ho=r.log,su=r.unstable_setDisableYieldValue,ot=null,Fe=null;function an(t){if(typeof ho=="function"&&su(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Ht=Math.clz32?Math.clz32:Xr,au=Math.log,Bh=Math.LN2;function Xr(t){return t>>>=0,t===0?32:31-(au(t)/Bh|0)|0}var Wr=256,Zr=4194304;function Nn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Nn(l):(v&=T,v!==0?h=Nn(v):a||(a=T&~t,a!==0&&(h=Nn(a))))):(T=l&~d,T!==0?h=Nn(T):v!==0?h=Nn(v):a||(a=l&~t,a!==0&&(h=Nn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Jr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var t=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),t}function po(){var t=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function go(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Ht(a),W=1<<Q;T[Q]=0,I[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var q=j[Q];q!==null&&(q.lane&=-536870913)}a&=~W}l!==0&&Fn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Fn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ht(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function yo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Ht(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ks(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zi(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:z_(t.type))}function ou(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var tt=Math.random().toString(36).slice(2),Et="__reactFiber$"+tt,mt="__reactProps$"+tt,yn="__reactContainer$"+tt,_o="__reactEvents$"+tt,jh="__reactListeners$"+tt,Ji="__reactHandles$"+tt,lu="__reactResources$"+tt,es="__reactMarker$"+tt;function er(t){delete t[Et],delete t[mt],delete t[_o],delete t[jh],delete t[Ji]}function yi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yn]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=b_(t);t!==null;){if(a=t[Et])return a;t=b_(t)}return i}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[Et]||t[yn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Kn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Wt(t){var i=t[lu];return i||(i=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[es]=!0}var vo=new Set,Qs={};function Mn(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(Qs[t]=i,t=0;t<i.length;t++)vo.add(i[t])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},ts={};function hu(t){return Kr.call(ts,t)?!0:Kr.call(cu,t)?!1:uu.test(t)?ts[t]=!0:(cu[t]=!0,!1)}function tr(t,i,a){if(hu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Qn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ns,fu;function vi(t){if(ns===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ns=i&&i[1]||"",fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ns+t+fu}var Ys=!1;function $s(t,i){if(!t||Ys)return"";Ys=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var j=q}Reflect.construct(t,[],W)}else{try{W.call()}catch(q){j=q}t.call(W.prototype)}}else{try{throw Error()}catch(q){j=q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Ys=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vi(a):""}function Eo(t){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return $s(t.type,!1);case 11:return $s(t.type.render,!1);case 1:return $s(t.type,!0);case 31:return vi("Activity");default:return""}}function Xs(t){try{var i="";do i+=Eo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function To(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qh(t){var i=To(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ws(t){t._valueTracker||(t._valueTracker=qh(t))}function Ao(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=To(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hh=/[\n"\\]/g;function pt(t){return t.replace(Hh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function on(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?nr(t,v,Zt(i)):a!=null?nr(t,v,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function rs(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function nr(t,i,a){i==="number"&&is(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ei(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function ss(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||as.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function So(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&du(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&du(t,d,i[d])}function bo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(t){return Gh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ti=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,Si=null;function wo(t){var i=Gn(t);if(i&&(t=i.stateNode)){var a=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(on(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));on(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ao(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ei(t,!!a.multiple,i,!1)}}}var Yn=!1;function mu(t,i,a){if(Yn)return t(i,a);Yn=!0;try{var l=t(i);return l}finally{if(Yn=!1,(Ai!==null||Si!==null)&&(oc(),Ai&&(i=Ai,t=Si,Si=Ai=null,wo(i),t)))for(i=0;i<t.length;i++)wo(t[i])}}function os(t,i){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(xn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){En=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{En=!1}var $n=null,ir=null,bi=null;function Ro(){if(bi)return bi;var t,i=ir,a=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return bi=h.slice(t,1<l?1-l:void 0)}function Xn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Io(){return!1}function Ct(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Io,this.isPropagationStopped=Io,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Ct(qe),us=E({},qe,{view:0,detail:0}),pu=Ct(us),ea,ta,Zn,cs=E({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(ea=t.screenX-Zn.screenX,ta=t.screenY-Zn.screenY):ta=ea=0,Zn=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:ta}}),Tn=Ct(cs),gu=E({},cs,{dataTransfer:0}),Kh=Ct(gu),hs=E({},us,{relatedTarget:0}),na=Ct(hs),Co=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Ct(Co),yu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ra=Ct(yu),Qh=E({},qe,{data:0}),Do=Ct(Qh),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=vu[t])?!!i[t]:!1}function ds(){return Oo}var Eu=E({},us,{key:function(t){if(t.key){var i=fs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(t){return t.type==="keypress"?Xn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sa=Ct(Eu),Tu=E({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),No=Ct(Tu),wi=E({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),Au=Ct(wi),Su=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Ct(Su),wu=E({},cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=Ct(wu),Jt=E({},qe,{newState:0,oldState:0}),Ru=Ct(Jt),Iu=[9,13,27,32],Jn=xn&&"CompositionEvent"in window,c=null;xn&&"documentMode"in document&&(c=document.documentMode);var g=xn&&"TextEvent"in window&&!c,_=xn&&(!Jn||c&&8<c&&11>=c),A=" ",U=!1;function F(t,i){switch(t){case"keyup":return Iu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Tt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!Jn&&F(t,i)?(t=Ro(),bi=ir=$n=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Ri(t,i,a,l){Ai?Si?Si.push(l):Si=[l]:Ai=l,i=dc(i,"onChange"),0<i.length&&(a=new Js("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var kt=null,ei=null;function Mo(t){m_(t,0)}function Cu(t){var i=Kn(t);if(Ao(i))return t}function Pp(t,i){if(t==="change")return i}var kp=!1;if(xn){var Yh;if(xn){var $h="oninput"in document;if(!$h){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),$h=typeof Lp.oninput=="function"}Yh=$h}else Yh=!1;kp=Yh&&(!document.documentMode||9<document.documentMode)}function Up(){kt&&(kt.detachEvent("onpropertychange",zp),ei=kt=null)}function zp(t){if(t.propertyName==="value"&&Cu(ei)){var i=[];Ri(i,ei,t,vn(t)),mu(Mo,i)}}function CA(t,i,a){t==="focusin"?(Up(),kt=i,ei=a,kt.attachEvent("onpropertychange",zp)):t==="focusout"&&Up()}function DA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(ei)}function OA(t,i){if(t==="click")return Cu(i)}function NA(t,i){if(t==="input"||t==="change")return Cu(i)}function MA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ln=typeof Object.is=="function"?Object.is:MA;function xo(t,i){if(ln(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Kr.call(i,h)||!ln(t[h],i[h]))return!1}return!0}function Bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,i){var a=Bp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bp(a)}}function qp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?qp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=is(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=is(t.document)}return i}function Xh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var xA=xn&&"documentMode"in document&&11>=document.documentMode,oa=null,Wh=null,Vo=null,Zh=!1;function Fp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||oa==null||oa!==is(l)||(l=oa,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vo&&xo(Vo,l)||(Vo=l,l=dc(Wh,"onSelect"),0<l.length&&(i=new Js("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=oa)))}function ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var la={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Jh={},Gp={};xn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function ps(t){if(Jh[t])return Jh[t];if(!la[t])return t;var i=la[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gp)return Jh[t]=i[a];return t}var Kp=ps("animationend"),Qp=ps("animationiteration"),Yp=ps("animationstart"),VA=ps("transitionrun"),PA=ps("transitionstart"),kA=ps("transitioncancel"),$p=ps("transitionend"),Xp=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Vn(t,i){Xp.set(t,i),Mn(i,[t])}var Wp=new WeakMap;function An(t,i){if(typeof t=="object"&&t!==null){var a=Wp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Xs(i)},Wp.set(t,i),i)}return{value:t,source:i,stack:Xs(i)}}var Sn=[],ua=0,tf=0;function Du(){for(var t=ua,i=tf=ua=0;i<t;){var a=Sn[i];Sn[i++]=null;var l=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Zp(a,h,d)}}function Ou(t,i,a,l){Sn[ua++]=t,Sn[ua++]=i,Sn[ua++]=a,Sn[ua++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,i,a,l){return Ou(t,i,a,l),Nu(t)}function ca(t,i){return Ou(t,null,null,i),Nu(t)}function Zp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Ht(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Nu(t){if(50<sl)throw sl=0,ud=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ha={};function LA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,i,a,l){return new LA(t,i,a,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,i){var a=t.alternate;return a===null?(a=un(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Mu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")rf(t)&&(v=1);else if(typeof t=="string")v=zS(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=un(31,a,i,h),t.elementType=w,t.lanes=d,t;case k:return gs(a.children,h,d,i);case Y:v=8,h|=24;break;case H:return t=un(12,a,i,h|2),t.elementType=H,t.lanes=d,t;case he:return t=un(13,a,i,h),t.elementType=he,t.lanes=d,t;case we:return t=un(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case te:v=10;break e;case re:v=9;break e;case de:v=11;break e;case M:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=un(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function gs(t,i,a,l){return t=un(7,t,l,i),t.lanes=a,t}function sf(t,i,a){return t=un(6,t,null,i),t.lanes=a,t}function af(t,i,a){return i=un(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var fa=[],da=0,xu=null,Vu=0,bn=[],wn=0,ys=null,Ci=1,Di="";function _s(t,i){fa[da++]=Vu,fa[da++]=xu,xu=t,Vu=i}function eg(t,i,a){bn[wn++]=Ci,bn[wn++]=Di,bn[wn++]=ys,ys=t;var l=Ci;t=Di;var h=32-Ht(l)-1;l&=~(1<<h),a+=1;var d=32-Ht(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-Ht(i)+h|a<<h|l,Di=d+t}else Ci=1<<d|a<<h|l,Di=t}function of(t){t.return!==null&&(_s(t,1),eg(t,1,0))}function lf(t){for(;t===xu;)xu=fa[--da],fa[da]=null,Vu=fa[--da],fa[da]=null;for(;t===ys;)ys=bn[--wn],bn[wn]=null,Di=bn[--wn],bn[wn]=null,Ci=bn[--wn],bn[wn]=null}var en=null,lt=null,je=!1,vs=null,ti=!1,uf=Error(s(519));function Es(t){var i=Error(s(418,""));throw Lo(An(i,t)),uf}function tg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[mt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<ol.length;a++)Me(ol[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),rs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ws(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),ss(i,l.value,l.defaultValue,l.children),Ws(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||__(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=mc),i=!0):i=!1,i||Es(t)}function ng(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:en=en.return}}function Po(t){if(t!==en)return!1;if(!je)return ng(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wd(t.type,t.memoizedProps)),a=!a),a&&lt&&Es(t),ng(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=kn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,vr(t.type)?(t=Dd,Dd=null,lt=t):lt=i):lt=en?kn(t.stateNode.nextSibling):null;return!0}function ko(){lt=en=null,je=!1}function ig(){var t=vs;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),vs=null),t}function Lo(t){vs===null?vs=[t]:vs.push(t)}var cf=ee(null),Ts=null,Oi=null;function rr(t,i,a){ne(cf,i._currentValue),i._currentValue=a}function Ni(t){t._currentValue=cf.current,ae(cf)}function hf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ff(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),hf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),hf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Uo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;ln(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===It.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(dl):t=[dl])}h=h.return}t!==null&&ff(i,t,a,l),i.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function As(t){Ts=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return rg(Ts,t)}function ku(t,i){return Ts===null&&As(t),rg(t,i)}function rg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(t===null)throw Error(s(308));Oi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Oi=Oi.next=i;return a}var UA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},zA=r.unstable_scheduleCallback,BA=r.unstable_NormalPriority,St={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new UA,data:new Map,refCount:0}}function zo(t){t.refCount--,t.refCount===0&&zA(BA,function(){t.controller.abort()})}var Bo=null,mf=0,ma=0,pa=null;function jA(t,i){if(Bo===null){var a=Bo=[];mf=0,ma=gd(),pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return mf++,i.then(sg,sg),i}function sg(){if(--mf===0&&Bo!==null){pa!==null&&(pa.status="fulfilled");var t=Bo;Bo=null,ma=0,pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function qA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ag=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&jA(t,i),ag!==null&&ag(t,i)};var Ss=ee(null);function pf(){var t=Ss.current;return t!==null?t:Je.pooledCache}function Lu(t,i){i===null?ne(Ss,Ss.current):ne(Ss,i.pool)}function og(){var t=pf();return t===null?null:{parent:St._currentValue,pool:t}}var jo=Error(s(460)),lg=Error(s(474)),Uu=Error(s(542)),gf={then:function(){}};function ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zu(){}function cg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(zu,zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fg(t),t;default:if(typeof i.status=="string")i.then(zu,zu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fg(t),t}throw qo=i,jo}}var qo=null;function hg(){if(qo===null)throw Error(s(459));var t=qo;return qo=null,t}function fg(t){if(t===jo||t===Uu)throw Error(s(483))}var sr=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Nu(t),Zp(t,null,a),i}return Ou(t,l,i,a),Nu(t)}function Ho(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,yo(t,a)}}function vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ef=!1;function Fo(){if(Ef){var t=pa;if(t!==null)throw t}}function Go(t,i,a,l){Ef=!1;var h=t.updateQueue;sr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=I))}if(d!==null){var W=h.baseState;v=0,Q=B=I=null,T=d;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Le&j)===j:(l&j)===j){j!==0&&j===ma&&(Ef=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ye=T;j=i;var Xe=a;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){W=Ee.call(Xe,W,j);break e}W=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,j=typeof Ee=="function"?Ee.call(Xe,W,j):Ee,j==null)break e;W=E({},W,j);break e;case 2:sr=!0}}j=T.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=q,I=W):Q=Q.next=q,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(I=W),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),pr|=v,t.lanes=v,t.memoizedState=W}}function dg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function mg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dg(a[t],i)}var ga=ee(null),Bu=ee(0);function pg(t,i){t=Ui,ne(Bu,t),ne(ga,i),Ui=t|i.baseLanes}function Tf(){ne(Bu,Ui),ne(ga,ga.current)}function Af(){Ui=Bu.current,ae(ga),ae(Bu)}var lr=0,Ie=null,Ye=null,gt=null,ju=!1,ya=!1,bs=!1,qu=0,Ko=0,_a=null,HA=0;function ht(){throw Error(s(321))}function Sf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!ln(t[a],i[a]))return!1;return!0}function bf(t,i,a,l,h,d){return lr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Zg:Jg,bs=!1,d=a(l,h),bs=!1,ya&&(d=yg(i,a,l,h)),gg(t),d}function gg(t){K.H=Yu;var i=Ye!==null&&Ye.next!==null;if(lr=0,gt=Ye=Ie=null,ju=!1,Ko=0,_a=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Pu(t)&&(Ot=!0))}function yg(t,i,a,l){Ie=t;var h=0;do{if(ya&&(_a=null),Ko=0,ya=!1,25<=h)throw Error(s(301));if(h+=1,gt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=XA,d=i(a,l)}while(ya);return d}function FA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Qo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),i}function wf(){var t=qu!==0;return qu=0,t}function Rf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function If(t){if(ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ju=!1}lr=0,gt=Ye=Ie=null,ya=!1,Ko=qu=0,_a=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=gt===null?Ie.memoizedState:gt.next;if(i!==null)gt=i,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(t){var i=Ko;return Ko+=1,_a===null&&(_a=[]),t=cg(_a,t,i),i=Ie,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Zg:Jg),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qo(t);if(t.$$typeof===te)return Ft(t)}throw Error(s(438,String(t)))}function Df(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Mi(t,i){return typeof i=="function"?i(t):i}function Fu(t){var i=yt();return Of(i,Ye,t)}function Of(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,Q=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Le&W)===W:(lr&W)===W){var j=B.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===ma&&(Q=!0);else if((lr&j)===j){B=B.next,j===ma&&(Q=!0);continue}else W={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=W,v=d):I=I.next=W,Ie.lanes|=j,pr|=j;W=B.action,bs&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else j={lane:W,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=j,v=d):I=I.next=j,Ie.lanes|=W,pr|=W;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!ln(d,t.memoizedState)&&(Ot=!0,Q&&(a=pa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);ln(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function _g(t,i,a){var l=Ie,h=yt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!ln((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Ot=!0),h=h.queue;var T=Tg.bind(null,l,h,t);if(Yo(2048,8,T,[t]),h.getSnapshot!==i||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,va(9,Gu(),Eg.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(lr&124)!==0||vg(l,i,a)}return a}function vg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Cf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Eg(t,i,a,l){i.value=a,i.getSnapshot=l,Ag(i)&&Sg(t)}function Tg(t,i,a){return a(function(){Ag(i)&&Sg(t)})}function Ag(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!ln(t,a)}catch{return!0}}function Sg(t){var i=ca(t,2);i!==null&&mn(i,t,2)}function Mf(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),bs){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},i}function bg(t,i,a,l){return t.baseState=a,Of(t,Ye,typeof l=="function"?l:Mi)}function GA(t,i,a,l,h){if(Qu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,wg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function wg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),I=K.S;I!==null&&I(v,T),Rg(t,i,T)}catch(B){xf(t,i,B)}finally{K.T=d}}else try{d=a(h,l),Rg(t,i,d)}catch(B){xf(t,i,B)}}function Rg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ig(t,i,l)},function(l){return xf(t,i,l)}):Ig(t,i,a)}function Ig(t,i,a){i.status="fulfilled",i.value=a,Cg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,wg(t,a)))}function xf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Cg(i),i=i.next;while(i!==l)}t.action=null}function Cg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Dg(t,i){return i}function Og(t,i){if(je){var a=Je.formState;if(a!==null){e:{var l=Ie;if(je){if(lt){t:{for(var h=lt,d=ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=kn(h.nextSibling),l=h.data==="F!";break e}}Es(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:i},a.queue=l,a=$g.bind(null,Ie,l),l.dispatch=a,l=Mf(!1),d=Uf.bind(null,Ie,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=GA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ng(t){var i=yt();return Mg(i,Ye,t)}function Mg(t,i,a){if(i=Of(t,i,Dg)[0],t=Fu(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Qo(i)}catch(v){throw v===jo?Uu:v}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,va(9,Gu(),KA.bind(null,h,a),null)),[l,d,t]}function KA(t,i){t.action=i}function xg(t){var i=yt(),a=Ye;if(a!==null)return Mg(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function va(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Cf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function Vg(){return yt().memoizedState}function Ku(t,i,a,l){var h=tn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=va(1|i,Gu(),a,l)}function Yo(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Sf(l,Ye.memoizedState.deps)?h.memoizedState=va(i,d,a,l):(Ie.flags|=t,h.memoizedState=va(1|i,d,a,l))}function Pg(t,i){Ku(8390656,8,t,i)}function kg(t,i){Yo(2048,8,t,i)}function Lg(t,i){return Yo(4,2,t,i)}function Ug(t,i){return Yo(4,4,t,i)}function zg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Bg(t,i,a){a=a!=null?a.concat([t]):null,Yo(4,4,zg.bind(null,i,t),a)}function Vf(){}function jg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function qg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=t(),bs){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,i],l}function Pf(t,i,a){return a===void 0||(lr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Gy(),Ie.lanes|=t,pr|=t,a)}function Hg(t,i,a,l){return ln(a,i)?a:ga.current!==null?(t=Pf(t,a,l),ln(t,i)||(Ot=!0),t):(lr&42)===0?(Ot=!0,t.memoizedState=a):(t=Gy(),Ie.lanes|=t,pr|=t,i)}function Fg(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Uf(t,!1,i,a);try{var I=h(),B=K.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=qA(I,l);$o(t,i,Q,dn(t))}else $o(t,i,l,dn(t))}catch(W){$o(t,i,{then:function(){},status:"rejected",reason:W},dn())}finally{se.p=d,K.T=v}}function QA(){}function kf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Gg(t).queue;Fg(t,h,i,me,a===null?QA:function(){return Kg(t),a(l)})}function Gg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Kg(t){var i=Gg(t).next.queue;$o(t,i,{},dn())}function Lf(){return Ft(dl)}function Qg(){return yt().memoizedState}function Yg(){return yt().memoizedState}function YA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();t=ar(a);var l=or(i,t,a);l!==null&&(mn(l,i,a),Ho(l,i,a)),i={cache:df()},t.payload=i;return}i=i.return}}function $A(t,i,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Xg(i,a):(a=nf(t,i,a,l),a!==null&&(mn(a,t,l),Wg(a,i,l)))}function $g(t,i,a){var l=dn();$o(t,i,a,l)}function $o(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Xg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,ln(T,v))return Ou(t,i,h,0),Je===null&&Du(),!1}catch{}finally{}if(a=nf(t,i,h,l),a!==null)return mn(a,t,l),Wg(a,i,l),!0}return!1}function Uf(t,i,a,l){if(l={lane:2,revertLane:gd(),action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(i)throw Error(s(479))}else i=nf(t,a,l,2),i!==null&&mn(i,t,2)}function Qu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Xg(t,i){ya=ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Wg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,yo(t,a)}}var Yu={readContext:Ft,use:Hu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Zg={readContext:Ft,use:Hu,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Pg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ku(4194308,4,zg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ku(4194308,4,t,i)},useInsertionEffect:function(t,i){Ku(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var l=t();if(bs){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=tn();if(a!==void 0){var h=a(i);if(bs){an(!0);try{a(i)}finally{an(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=$A.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Mf(t);var i=t.queue,a=$g.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(t,i){var a=tn();return Pf(a,t,i)},useTransition:function(){var t=Mf(!1);return t=Fg.bind(null,Ie,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=tn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Le&124)!==0||vg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Pg(Tg.bind(null,l,d,t),[t]),l.flags|=2048,va(9,Gu(),Eg.bind(null,l,d,a,i),null),a},useId:function(){var t=tn(),i=Je.identifierPrefix;if(je){var a=Di,l=Ci;a=(l&~(1<<32-Ht(l)-1)).toString(32)+a,i=""+i+"R"+a,a=qu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=HA++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Lf,useFormState:Og,useActionState:Og,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Df,useCacheRefresh:function(){return tn().memoizedState=YA.bind(null,Ie)}},Jg={readContext:Ft,use:Hu,useCallback:jg,useContext:Ft,useEffect:kg,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:qg,useReducer:Fu,useRef:Vg,useState:function(){return Fu(Mi)},useDebugValue:Vf,useDeferredValue:function(t,i){var a=yt();return Hg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Fu(Mi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:_g,useId:Qg,useHostTransitionStatus:Lf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,i){var a=yt();return bg(a,Ye,t,i)},useMemoCache:Df,useCacheRefresh:Yg},XA={readContext:Ft,use:Hu,useCallback:jg,useContext:Ft,useEffect:kg,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:qg,useReducer:Nf,useRef:Vg,useState:function(){return Nf(Mi)},useDebugValue:Vf,useDeferredValue:function(t,i){var a=yt();return Ye===null?Pf(a,t,i):Hg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Nf(Mi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:_g,useId:Qg,useHostTransitionStatus:Lf,useFormState:xg,useActionState:xg,useOptimistic:function(t,i){var a=yt();return Ye!==null?bg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Yg},Ea=null,Xo=0;function $u(t){var i=Xo;return Xo+=1,Ea===null&&(Ea=[]),cg(Ea,t,i)}function Wo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ey(t){var i=t._init;return i(t._payload)}function ty(t){function i(V,N){if(t){var z=V.deletions;z===null?(V.deletions=[N],V.flags|=16):z.push(N)}}function a(V,N){if(!t)return null;for(;N!==null;)i(V,N),N=N.sibling;return null}function l(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=Ii(V,N),V.index=0,V.sibling=null,V}function d(V,N,z){return V.index=z,t?(z=V.alternate,z!==null?(z=z.index,z<N?(V.flags|=67108866,N):z):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,N,z,X){return N===null||N.tag!==6?(N=sf(z,V.mode,X),N.return=V,N):(N=h(N,z),N.return=V,N)}function I(V,N,z,X){var ue=z.type;return ue===k?Q(V,N,z.props.children,X,z.key):N!==null&&(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===b&&ey(ue)===N.type)?(N=h(N,z.props),Wo(N,z),N.return=V,N):(N=Mu(z.type,z.key,z.props,null,V.mode,X),Wo(N,z),N.return=V,N)}function B(V,N,z,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=af(z,V.mode,X),N.return=V,N):(N=h(N,z.children||[]),N.return=V,N)}function Q(V,N,z,X,ue){return N===null||N.tag!==7?(N=gs(z,V.mode,X,ue),N.return=V,N):(N=h(N,z),N.return=V,N)}function W(V,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=sf(""+N,V.mode,z),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case R:return z=Mu(N.type,N.key,N.props,null,V.mode,z),Wo(z,N),z.return=V,z;case P:return N=af(N,V.mode,z),N.return=V,N;case b:var X=N._init;return N=X(N._payload),W(V,N,z)}if(at(N)||L(N))return N=gs(N,V.mode,z,null),N.return=V,N;if(typeof N.then=="function")return W(V,$u(N),z);if(N.$$typeof===te)return W(V,ku(V,N),z);Xu(V,N)}return null}function j(V,N,z,X){var ue=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ue!==null?null:T(V,N,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===ue?I(V,N,z,X):null;case P:return z.key===ue?B(V,N,z,X):null;case b:return ue=z._init,z=ue(z._payload),j(V,N,z,X)}if(at(z)||L(z))return ue!==null?null:Q(V,N,z,X,null);if(typeof z.then=="function")return j(V,N,$u(z),X);if(z.$$typeof===te)return j(V,N,ku(V,z),X);Xu(V,z)}return null}function q(V,N,z,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(z)||null,T(N,V,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return V=V.get(X.key===null?z:X.key)||null,I(N,V,X,ue);case P:return V=V.get(X.key===null?z:X.key)||null,B(N,V,X,ue);case b:var Oe=X._init;return X=Oe(X._payload),q(V,N,z,X,ue)}if(at(X)||L(X))return V=V.get(z)||null,Q(N,V,X,ue,null);if(typeof X.then=="function")return q(V,N,z,$u(X),ue);if(X.$$typeof===te)return q(V,N,z,ku(N,X),ue);Xu(N,X)}return null}function Ee(V,N,z,X){for(var ue=null,Oe=null,fe=N,_e=N=0,Mt=null;fe!==null&&_e<z.length;_e++){fe.index>_e?(Mt=fe,fe=null):Mt=fe.sibling;var ze=j(V,fe,z[_e],X);if(ze===null){fe===null&&(fe=Mt);break}t&&fe&&ze.alternate===null&&i(V,fe),N=d(ze,N,_e),Oe===null?ue=ze:Oe.sibling=ze,Oe=ze,fe=Mt}if(_e===z.length)return a(V,fe),je&&_s(V,_e),ue;if(fe===null){for(;_e<z.length;_e++)fe=W(V,z[_e],X),fe!==null&&(N=d(fe,N,_e),Oe===null?ue=fe:Oe.sibling=fe,Oe=fe);return je&&_s(V,_e),ue}for(fe=l(fe);_e<z.length;_e++)Mt=q(fe,V,_e,z[_e],X),Mt!==null&&(t&&Mt.alternate!==null&&fe.delete(Mt.key===null?_e:Mt.key),N=d(Mt,N,_e),Oe===null?ue=Mt:Oe.sibling=Mt,Oe=Mt);return t&&fe.forEach(function(br){return i(V,br)}),je&&_s(V,_e),ue}function ye(V,N,z,X){if(z==null)throw Error(s(151));for(var ue=null,Oe=null,fe=N,_e=N=0,Mt=null,ze=z.next();fe!==null&&!ze.done;_e++,ze=z.next()){fe.index>_e?(Mt=fe,fe=null):Mt=fe.sibling;var br=j(V,fe,ze.value,X);if(br===null){fe===null&&(fe=Mt);break}t&&fe&&br.alternate===null&&i(V,fe),N=d(br,N,_e),Oe===null?ue=br:Oe.sibling=br,Oe=br,fe=Mt}if(ze.done)return a(V,fe),je&&_s(V,_e),ue;if(fe===null){for(;!ze.done;_e++,ze=z.next())ze=W(V,ze.value,X),ze!==null&&(N=d(ze,N,_e),Oe===null?ue=ze:Oe.sibling=ze,Oe=ze);return je&&_s(V,_e),ue}for(fe=l(fe);!ze.done;_e++,ze=z.next())ze=q(fe,V,_e,ze.value,X),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?_e:ze.key),N=d(ze,N,_e),Oe===null?ue=ze:Oe.sibling=ze,Oe=ze);return t&&fe.forEach(function(WS){return i(V,WS)}),je&&_s(V,_e),ue}function Xe(V,N,z,X){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:e:{for(var ue=z.key;N!==null;){if(N.key===ue){if(ue=z.type,ue===k){if(N.tag===7){a(V,N.sibling),X=h(N,z.props.children),X.return=V,V=X;break e}}else if(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===b&&ey(ue)===N.type){a(V,N.sibling),X=h(N,z.props),Wo(X,z),X.return=V,V=X;break e}a(V,N);break}else i(V,N);N=N.sibling}z.type===k?(X=gs(z.props.children,V.mode,X,z.key),X.return=V,V=X):(X=Mu(z.type,z.key,z.props,null,V.mode,X),Wo(X,z),X.return=V,V=X)}return v(V);case P:e:{for(ue=z.key;N!==null;){if(N.key===ue)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(V,N.sibling),X=h(N,z.children||[]),X.return=V,V=X;break e}else{a(V,N);break}else i(V,N);N=N.sibling}X=af(z,V.mode,X),X.return=V,V=X}return v(V);case b:return ue=z._init,z=ue(z._payload),Xe(V,N,z,X)}if(at(z))return Ee(V,N,z,X);if(L(z)){if(ue=L(z),typeof ue!="function")throw Error(s(150));return z=ue.call(z),ye(V,N,z,X)}if(typeof z.then=="function")return Xe(V,N,$u(z),X);if(z.$$typeof===te)return Xe(V,N,ku(V,z),X);Xu(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(V,N.sibling),X=h(N,z),X.return=V,V=X):(a(V,N),X=sf(z,V.mode,X),X.return=V,V=X),v(V)):a(V,N)}return function(V,N,z,X){try{Xo=0;var ue=Xe(V,N,z,X);return Ea=null,ue}catch(fe){if(fe===jo||fe===Uu)throw fe;var Oe=un(29,fe,null,V.mode);return Oe.lanes=X,Oe.return=V,Oe}finally{}}}var Ta=ty(!0),ny=ty(!1),Rn=ee(null),ni=null;function ur(t){var i=t.alternate;ne(bt,bt.current&1),ne(Rn,t),ni===null&&(i===null||ga.current!==null||i.memoizedState!==null)&&(ni=t)}function iy(t){if(t.tag===22){if(ne(bt,bt.current),ne(Rn,t),ni===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ni=t)}}else cr()}function cr(){ne(bt,bt.current),ne(Rn,Rn.current)}function xi(t){ae(Rn),ni===t&&(ni=null),ae(bt)}var bt=ee(0);function Wu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function zf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=dn(),h=ar(l);h.payload=i,a!=null&&(h.callback=a),i=or(t,h,l),i!==null&&(mn(i,t,l),Ho(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=dn(),h=ar(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=or(t,h,l),i!==null&&(mn(i,t,l),Ho(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=dn(),l=ar(a);l.tag=2,i!=null&&(l.callback=i),i=or(t,l,a),i!==null&&(mn(i,t,a),Ho(i,t,a))}};function ry(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!xo(a,l)||!xo(h,d):!0}function sy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Bf.enqueueReplaceState(i,i.state,null)}function ws(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ay(t){Zu(t)}function oy(t){console.error(t)}function ly(t){Zu(t)}function Ju(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,i,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,i)},a}function cy(t){return t=ar(t),t.tag=3,t}function hy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){uy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){uy(i,a,l),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function WA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Uo(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ni===null?hd():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===gf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),dd(t,l,h)),!1;case 22:return a.flags|=65536,l===gf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),dd(t,l,h)),!1}throw Error(s(435,a.tag))}return dd(t,l,h),hd(),!1}if(je)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==uf&&(t=Error(s(422),{cause:l}),Lo(An(t,a)))):(l!==uf&&(i=Error(s(423),{cause:l}),Lo(An(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=An(l,a),h=jf(t.stateNode,l,h),vf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,a),rl===null?rl=[d]:rl.push(d),ut!==4&&(ut=2),i===null)return!0;l=An(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=jf(a.stateNode,l,t),vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,t,a,l),vf(a,h),!1}a=a.return}while(a!==null);return!1}var fy=Error(s(461)),Ot=!1;function Lt(t,i,a,l){i.child=t===null?ny(i,null,a,l):Ta(i,t.child,a,l)}function dy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return As(i),l=bf(t,i,a,v,d,h),T=wf(),t!==null&&!Ot?(Rf(t,i,h),Vi(t,i,h)):(je&&T&&of(i),i.flags|=1,Lt(t,i,l,h),i.child)}function my(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,py(t,i,d,l,h)):(t=Mu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!$f(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:xo,a(v,l)&&t.ref===i.ref)return Vi(t,i,h)}return i.flags|=1,t=Ii(d,l),t.ref=i.ref,t.return=i,i.child=t}function py(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(xo(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,$f(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,Vi(t,i,h)}return qf(t,i,a,l,h)}function gy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return yy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(i,d!==null?d.cachePool:null),d!==null?pg(i,d):Tf(),iy(i);else return i.lanes=i.childLanes=536870912,yy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Lu(i,d.cachePool),pg(i,d),cr(),i.memoizedState=null):(t!==null&&Lu(i,null),Tf(),cr());return Lt(t,i,h,a),i.child}function yy(t,i,a,l){var h=pf();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Lu(i,null),Tf(),iy(i),t!==null&&Uo(t,i,l,!0),null}function ec(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function qf(t,i,a,l,h){return As(i),a=bf(t,i,a,l,void 0,h),l=wf(),t!==null&&!Ot?(Rf(t,i,h),Vi(t,i,h)):(je&&l&&of(i),i.flags|=1,Lt(t,i,a,h),i.child)}function _y(t,i,a,l,h,d){return As(i),i.updateQueue=null,a=yg(i,l,a,h),gg(t),l=wf(),t!==null&&!Ot?(Rf(t,i,d),Vi(t,i,d)):(je&&l&&of(i),i.flags|=1,Lt(t,i,a,d),i.child)}function vy(t,i,a,l,h){if(As(i),i.stateNode===null){var d=ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},yf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):ha,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(zf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Bf.enqueueReplaceState(d,d.state,null),Go(i,l,d,h),Fo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=ws(a,T);d.props=I;var B=d.context,Q=a.contextType;v=ha,typeof Q=="object"&&Q!==null&&(v=Ft(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&sy(i,d,l,v),sr=!1;var j=i.memoizedState;d.state=j,Go(i,l,d,h),Fo(),B=i.memoizedState,T||j!==B||sr?(typeof W=="function"&&(zf(i,a,W,l),B=i.memoizedState),(I=sr||ry(i,a,I,l,j,B,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,_f(t,i),v=i.memoizedProps,Q=ws(a,v),d.props=Q,W=i.pendingProps,j=d.context,B=a.contextType,I=ha,typeof B=="object"&&B!==null&&(I=Ft(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||j!==I)&&sy(i,d,l,I),sr=!1,j=i.memoizedState,d.state=j,Go(i,l,d,h),Fo();var q=i.memoizedState;v!==W||j!==q||sr||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof T=="function"&&(zf(i,a,T,l),q=i.memoizedState),(Q=sr||ry(i,a,Q,l,j,q,I)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ec(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ta(i,t.child,null,h),i.child=Ta(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Vi(t,i,h),t}function Ey(t,i,a,l){return ko(),i.flags|=256,Lt(t,i,a,l),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:og()}}function Gf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function Ty(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?ur(i):cr(),je){var T=lt,I;if(I=T){e:{for(I=T,T=ti;I.nodeType!==8;){if(!T){T=null;break e}if(I=kn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:ys!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},I=un(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,en=i,lt=null,I=!0):I=!1}I||Es(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Cd(T)?i.lanes=32:i.lanes=536870912,null;xi(i)}return T=l.children,l=l.fallback,h?(cr(),h=i.mode,T=tc({mode:"hidden",children:T},h),l=gs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Ff(a),h.childLanes=Gf(t,v,a),i.memoizedState=Hf,l):(ur(i),Kf(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(ur(i),i.flags&=-257,i=Qf(t,i,a)):i.memoizedState!==null?(cr(),i.child=t.child,i.flags|=128,i=null):(cr(),h=l.fallback,T=i.mode,l=tc({mode:"visible",children:l.children},T),h=gs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ta(i,t.child,null,a),l=i.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,v,a),i.memoizedState=Hf,i=h);else if(ur(i),Cd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Lo({value:l,source:null,stack:null}),i=Qf(t,i,a)}else if(Ot||Uo(t,i,a,!1),v=(a&t.childLanes)!==0,Ot||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:Wi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ca(t,l),mn(v,t,l),fy;T.data==="$?"||hd(),i=Qf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,lt=kn(T.nextSibling),en=i,je=!0,vs=null,ti=!1,t!==null&&(bn[wn++]=Ci,bn[wn++]=Di,bn[wn++]=ys,Ci=t.id,Di=t.overflow,ys=i),i=Kf(i,l.children),i.flags|=4096);return i}return h?(cr(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=Ii(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Ii(B,h):(h=gs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Ff(a):(I=T.cachePool,I!==null?(B=St._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=og(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Gf(t,v,a),i.memoizedState=Hf,l):(ur(i),a=t.child,t=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Kf(t,i){return i=tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function tc(t,i){return t=un(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qf(t,i,a){return Ta(i,t.child,null,a),t=Kf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ay(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),hf(t.return,i,a)}function Yf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Sy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,a),l=bt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,a,i);else if(t.tag===19)Ay(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ne(bt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Yf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(i,!0,a,null,d);break;case"together":Yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Uo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ii(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ii(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function $f(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function ZA(t,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),rr(i,St,t.memoizedState.cache),ko();break;case 27:case 5:Xi(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:rr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ty(t,i,a):(ur(i),t=Vi(t,i,a),t!==null?t.sibling:null);ur(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Uo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Sy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(bt,bt.current),l)break;return null;case 22:case 23:return i.lanes=0,gy(t,i,a);case 24:rr(i,St,t.memoizedState.cache)}return Vi(t,i,a)}function by(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!$f(t,a)&&(i.flags&128)===0)return Ot=!1,ZA(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,je&&(i.flags&1048576)!==0&&eg(i,Vu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")rf(l)?(t=ws(l,t),i.tag=1,i=vy(null,i,l,t,a)):(i.tag=0,i=qf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===de){i.tag=11,i=dy(null,i,l,t,a);break e}else if(h===M){i.tag=14,i=my(null,i,l,t,a);break e}}throw i=Vt(l)||l,Error(s(306,i,""))}}return i;case 0:return qf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ws(l,i.pendingProps),vy(t,i,l,h,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,_f(t,i),Go(i,l,null,a);var v=i.memoizedState;if(l=v.cache,rr(i,St,l),l!==d.cache&&ff(i,[St],a,!0),Fo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ey(t,i,l,a);break e}else if(l!==h){h=An(Error(s(424)),i),Lo(h),i=Ey(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=kn(t.firstChild),en=i,je=!0,vs=null,ti=!0,a=ny(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ko(),l===h){i=Vi(t,i,a);break e}Lt(t,i,l,a)}i=i.child}return i;case 26:return ec(t,i),t===null?(a=C_(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=pc(Ae.current).createElement(a),l[Et]=i,l[mt]=t,zt(l,a,t),ct(l),i.stateNode=l):i.memoizedState=C_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Xi(i),t===null&&je&&(l=i.stateNode=w_(i.type,i.pendingProps,Ae.current),en=i,ti=!0,h=lt,vr(i.type)?(Dd=h,lt=kn(l.firstChild)):lt=h),Lt(t,i,i.pendingProps.children,a),ec(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=l=lt)&&(l=RS(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,en=i,lt=kn(l.firstChild),ti=!1,h=!0):h=!1),h||Es(i)),Xi(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,wd(h,d)?l=null:v!==null&&wd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=bf(t,i,FA,null,null,a),dl._currentValue=h),ec(t,i),Lt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=lt)&&(a=IS(a,i.pendingProps,ti),a!==null?(i.stateNode=a,en=i,lt=null,t=!0):t=!1),t||Es(i)),null;case 13:return Ty(t,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ta(i,null,l,a):Lt(t,i,l,a),i.child;case 11:return dy(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,rr(i,i.type,l.value),Lt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,As(i),h=Ft(h),l=l(h),i.flags|=1,Lt(t,i,l,a),i.child;case 14:return my(t,i,i.type,i.pendingProps,a);case 15:return py(t,i,i.type,i.pendingProps,a);case 19:return Sy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=tc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return gy(t,i,a);case 24:return As(i),l=Ft(St),t===null?(h=pf(),h===null&&(h=Je,d=df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},yf(i),rr(i,St,h)):((t.lanes&a)!==0&&(_f(t,i),Go(i,null,null,a),Fo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),rr(i,St,l)):(l=d.cache,rr(i,St,l),l!==h.cache&&ff(i,[St],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Pi(t){t.flags|=4}function wy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(i)){if(i=Rn.current,i!==null&&((Le&4194048)===Le?ni!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ni))throw qo=gf,lg;t.flags|=8192}}function nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?po():536870912,t.lanes|=i,wa|=i)}function Zo(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function JA(t,i,a){var l=i.pendingProps;switch(lf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni(St),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Po(i)?Pi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ig())),rt(i),null;case 26:return a=i.memoizedState,t===null?(Pi(i),a!==null?(rt(i),wy(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Pi(i),rt(i),wy(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Pi(i),rt(i),i.flags&=-16777217),null;case 27:mi(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ge.current,Po(i)?tg(i):(t=w_(h,l,a),i.stateNode=t,Pi(i))}return rt(i),null;case 5:if(mi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=ge.current,Po(i))tg(i);else{switch(h=pc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Et]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Pi(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Pi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Po(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||__(t.nodeValue,a)),t||Es(i)}else t=pc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Po(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=ig(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(xi(i),i):(xi(i),null)}if(xi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),rt(i),null;case 4:return Hn(),t===null&&Ed(i.stateNode.containerInfo),rt(i),null;case 10:return Ni(i.type),rt(i),null;case 19:if(ae(bt),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Zo(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Wu(t),d!==null){for(i.flags|=128,Zo(h,!1),t=d.updateQueue,i.updateQueue=t,nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Jp(a,t),a=a.sibling;return ne(bt,bt.current&1|2),i.child}t=t.sibling}h.tail!==null&&gn()>sc&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304)}else{if(!l)if(t=Wu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,nc(i,t),Zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!je)return rt(i),null}else 2*gn()-h.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,t=bt.current,ne(bt,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return xi(i),Af(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ae(Ss),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(St),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function eS(t,i){switch(lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ni(St),Hn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return mi(i),null;case 13:if(xi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ko()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(bt),null;case 4:return Hn(),null;case 10:return Ni(i.type),null;case 22:case 23:return xi(i),Af(),t!==null&&ae(Ss),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ni(St),null;case 25:return null;default:return null}}function Ry(t,i){switch(lf(i),i.tag){case 3:Ni(St),Hn();break;case 26:case 27:case 5:mi(i);break;case 4:Hn();break;case 13:xi(i);break;case 19:ae(bt);break;case 10:Ni(i.type);break;case 22:case 23:xi(i),Af(),t!==null&&ae(Ss);break;case 24:Ni(St)}}function Jo(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function hr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(Q){We(h,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){We(i,i.return,Q)}}function Iy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{mg(i,a)}catch(l){We(t,t.return,l)}}}function Cy(t,i,a){a.props=ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function el(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function Dy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Xf(t,i,a){try{var l=t.stateNode;TS(l,t.type,a,i),l[mt]=i}catch(h){We(t,t.return,h)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vr(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mc));else if(l!==4&&(l===27&&vr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Zf(t,i,a),t=t.sibling;t!==null;)Zf(t,i,a),t=t.sibling}function ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&vr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,i,a),t=t.sibling;t!==null;)ic(t,i,a),t=t.sibling}function Ny(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,l,a),i[Et]=t,i[mt]=a}catch(d){We(t,t.return,d)}}var ki=!1,ft=!1,Jf=!1,My=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function tS(t,i){if(t=t.containerInfo,Sd=Tc,t=Hp(t),Xh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,Q=0,W=t,j=null;t:for(;;){for(var q;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(I=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(q=W.firstChild)!==null;)j=W,W=q;for(;;){if(W===t)break t;if(j===a&&++B===h&&(T=v),j===d&&++Q===l&&(I=v),(q=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:t,selectionRange:a},Tc=!1,Nt=i;Nt!==null;)if(i=Nt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Nt=t;else for(;Nt!==null;){switch(i=Nt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=ws(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Nt=t;break}Nt=i.return}}function xy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(t,a),l&4&&Jo(5,a);break;case 1:if(fr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=ws(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Iy(a),l&512&&el(a,a.return);break;case 3:if(fr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{mg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&Ny(a);case 26:case 5:fr(t,a),i===null&&l&4&&Dy(a),l&512&&el(a,a.return);break;case 12:fr(t,a);break;case 13:fr(t,a),l&4&&ky(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=cS.bind(null,a),CS(t,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||ft,h=ki;var d=ft;ki=l,(ft=i)&&!d?dr(t,a,(a.subtreeFlags&8772)!==0):fr(t,a),ki=h,ft=d}break;case 30:break;default:fr(t,a)}}function Vy(t){var i=t.alternate;i!==null&&(t.alternate=null,Vy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&er(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,nn=!1;function Li(t,i,a){for(a=a.child;a!==null;)Py(t,i,a),a=a.sibling}function Py(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||ii(a,i),Li(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||ii(a,i);var l=nt,h=nn;vr(a.type)&&(nt=a.stateNode,nn=!1),Li(t,i,a),ul(a.stateNode),nt=l,nn=h;break;case 5:ft||ii(a,i);case 6:if(l=nt,h=nn,nt=null,Li(t,i,a),nt=l,nn=h,nt!==null)if(nn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{nt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:nt!==null&&(nn?(t=nt,S_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yl(t)):S_(nt,a.stateNode));break;case 4:l=nt,h=nn,nt=a.stateNode.containerInfo,nn=!0,Li(t,i,a),nt=l,nn=h;break;case 0:case 11:case 14:case 15:ft||hr(2,a,i),ft||hr(4,a,i),Li(t,i,a);break;case 1:ft||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cy(a,i,l)),Li(t,i,a);break;case 21:Li(t,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Li(t,i,a),ft=l;break;default:Li(t,i,a)}}function ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yl(t)}catch(a){We(i,i.return,a)}}function nS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new My),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new My),i;default:throw Error(s(435,t.tag))}}function ed(t,i){var a=nS(t);i.forEach(function(l){var h=hS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(vr(T.type)){nt=T.stateNode,nn=!1;break e}break;case 5:nt=T.stateNode,nn=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,nn=!0;break e}T=T.return}if(nt===null)throw Error(s(160));Py(d,v,h),nt=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ly(i,t),i=i.sibling}var Pn=null;function Ly(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(hr(3,t,t.return),Jo(3,t),hr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(ft||a===null||ii(a,a.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pn;if(cn(i,t),hn(t),l&512&&(ft||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[es]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Et]=t,ct(d),l=d;break e;case"link":var v=N_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=N_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,ct(d),l=d}t.stateNode=l}else M_(h,t.type,t.stateNode);else t.stateNode=O_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?M_(h,t.type,t.stateNode):O_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(ft||a===null||ii(a,a.return)),a!==null&&l&4&&Xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(ft||a===null||ii(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(q){We(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){We(t,t.return,q)}}break;case 3:if(_c=null,h=Pn,Pn=gc(i.containerInfo),cn(i,t),Pn=h,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yl(i.containerInfo)}catch(q){We(t,t.return,q)}Jf&&(Jf=!1,Uy(t));break;case 4:l=Pn,Pn=gc(t.stateNode.containerInfo),cn(i,t),hn(t),Pn=l;break;case 12:cn(i,t),hn(t);break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ad=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ed(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=ki,Q=ft;if(ki=B||h,ft=Q||I,cn(i,t),ft=Q,ki=B,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||ki||ft||Rs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var W=I.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){We(I,I.return,q)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(q){We(I,I.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ed(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ed(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Oy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Wf(t);ic(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var T=Wf(t);ic(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Wf(t);Zf(t,B,I);break;default:throw Error(s(161))}}catch(Q){We(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Uy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xy(t,i.alternate,i),i=i.sibling}function Rs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:hr(4,i,i.return),Rs(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),Rs(i);break;case 27:ul(i.stateNode);case 26:case 5:ii(i,i.return),Rs(i);break;case 22:i.memoizedState===null&&Rs(i);break;case 30:Rs(i);break;default:Rs(i)}t=t.sibling}}function dr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:dr(h,d,a),Jo(4,d);break;case 1:if(dr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)dg(I[h],T)}catch(B){We(l,l.return,B)}}a&&v&64&&Iy(d),el(d,d.return);break;case 27:Ny(d);case 26:case 5:dr(h,d,a),a&&l===null&&v&4&&Dy(d),el(d,d.return);break;case 12:dr(h,d,a);break;case 13:dr(h,d,a),a&&v&4&&ky(h,d);break;case 22:d.memoizedState===null&&dr(h,d,a),el(d,d.return);break;case 30:break;default:dr(h,d,a)}i=i.sibling}}function td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&zo(a))}function nd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zo(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zy(t,i,a,l),i=i.sibling}function zy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&Jo(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zo(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):tl(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,Aa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&td(v,i);break;case 24:ri(t,i,a,l),h&2048&&nd(i.alternate,i);break;default:ri(t,i,a,l)}}function Aa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(d,v,T,I,h),Jo(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Aa(d,v,T,I,h):tl(d,v):(Q._visibility|=2,Aa(d,v,T,I,h)),h&&B&2048&&td(v.alternate,v);break;case 24:Aa(d,v,T,I,h),h&&B&2048&&nd(v.alternate,v);break;default:Aa(d,v,T,I,h)}i=i.sibling}}function tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:tl(a,l),h&2048&&td(l.alternate,l);break;case 24:tl(a,l),h&2048&&nd(l.alternate,l);break;default:tl(a,l)}i=i.sibling}}var nl=8192;function Sa(t){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 26:Sa(t),t.flags&nl&&t.memoizedState!==null&&jS(Pn,t.memoizedState,t.memoizedProps);break;case 5:Sa(t);break;case 3:case 4:var i=Pn;Pn=gc(t.stateNode.containerInfo),Sa(t),Pn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=nl,nl=16777216,Sa(t),nl=i):Sa(t));break;default:Sa(t)}}function jy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function il(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Nt=l,Hy(l,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&hr(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,rc(t)):il(t);break;default:il(t)}}function rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Nt=l,Hy(l,t)}jy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:hr(8,i,i.return),rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,rc(i));break;default:rc(i)}t=t.sibling}}function Hy(t,i){for(;Nt!==null;){var a=Nt;switch(a.tag){case 0:case 11:case 15:hr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Nt=l;else e:for(a=t;Nt!==null;){l=Nt;var h=l.sibling,d=l.return;if(Vy(l),l===a){Nt=null;break e}if(h!==null){h.return=d,Nt=h;break e}Nt=d}}}var iS={getCacheForType:function(t){var i=Ft(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},rS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Ne=null,Le=0,Ke=0,fn=null,mr=!1,ba=!1,id=!1,Ui=0,ut=0,pr=0,Is=0,rd=0,In=0,wa=0,rl=null,rn=null,sd=!1,ad=0,sc=1/0,ac=null,gr=null,Ut=0,yr=null,Ra=null,Ia=0,od=0,ld=null,Fy=null,sl=0,ud=null;function dn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var t=ma;return t!==0?t:gd()}return Zi()}function Gy(){In===0&&(In=(Le&536870912)===0||je?mo():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),In}function mn(t,i,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ca(t,0),_r(t,Le,In,!1)),gi(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Is|=a),ut===4&&_r(t,Le,In,!1)),si(t))}function Ky(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Jr(t,i),h=l?oS(t,i):fd(t,i,!0),d=l;do{if(h===0){ba&&!l&&_r(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!sS(a)){h=fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=rl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ca(T,v).flags|=256),v=fd(T,v,!1),v!==2){if(id&&!I){T.errorRecoveryDisabledLanes|=d,Is|=d,h=4;break e}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ca(t,0),_r(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:_r(l,i,In,!mr);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ad+300-gn(),10<h)){if(_r(l,i,In,!mr),Gs(l,0,!0)!==0)break e;l.timeoutHandle=T_(Qy.bind(null,l,a,rn,ac,sd,i,In,Is,wa,mr,d,2,-0,0),h);break e}Qy(l,a,rn,ac,sd,i,In,Is,wa,mr,d,0,-0,0)}}break}while(!0);si(t)}function Qy(t,i,a,l,h,d,v,T,I,B,Q,W,j,q){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:BS},By(i),W=qS(),W!==null)){t.cancelPendingCommit=W(e_.bind(null,t,i,d,a,l,h,v,T,I,Q,1,j,q)),_r(t,d,v,!B);return}e_(t,i,d,a,l,h,v,T,I)}function sS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!ln(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _r(t,i,a,l){i&=~rd,i&=~Is,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Ht(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Fn(t,a,i)}function oc(){return(Ge&6)===0?(al(0),!1):!0}function cd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Oi=Ts=null,If(t),Ea=null,Xo=0,t=Ne;for(;t!==null;)Ry(t.alternate,t),t=t.return;Ne=null}}function Ca(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,SS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cd(),Je=t,Ne=a=Ii(t.current,null),Le=i,Ke=0,fn=null,mr=!1,ba=Jr(t,i),id=!1,wa=In=rd=Is=pr=ut=0,rn=rl=null,sd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Ht(l),d=1<<h;i|=t[h],l&=~d}return Ui=i,Du(),a}function Yy(t,i){Ie=null,K.H=Yu,i===jo||i===Uu?(i=hg(),Ke=3):i===lg?(i=hg(),Ke=4):Ke=i===fy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,Ne===null&&(ut=1,Ju(t,An(i,t.current)))}function $y(){var t=K.H;return K.H=Yu,t===null?Yu:t}function Xy(){var t=K.A;return K.A=iS,t}function hd(){ut=4,mr||(Le&4194048)!==Le&&Rn.current!==null||(ba=!0),(pr&134217727)===0&&(Is&134217727)===0||Je===null||_r(Je,Le,In,!1)}function fd(t,i,a){var l=Ge;Ge|=2;var h=$y(),d=Xy();(Je!==t||Le!==i)&&(ac=null,Ca(t,i)),i=!1;var v=ut;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,I=fn;switch(Ke){case 8:cd(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var B=Ke;if(Ke=0,fn=null,Da(t,T,I,B),a&&ba){v=0;break e}break;default:B=Ke,Ke=0,fn=null,Da(t,T,I,B)}}aS(),v=ut;break}catch(Q){Yy(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Oi=Ts=null,Ge=l,K.H=h,K.A=d,Ne===null&&(Je=null,Le=0,Du()),v}function aS(){for(;Ne!==null;)Wy(Ne)}function oS(t,i){var a=Ge;Ge|=2;var l=$y(),h=Xy();Je!==t||Le!==i?(ac=null,sc=gn()+500,Ca(t,i)):ba=Jr(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=fn;t:switch(Ke){case 1:Ke=0,fn=null,Da(t,i,d,1);break;case 2:case 9:if(ug(d)){Ke=0,fn=null,Zy(i);break}i=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),si(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:ug(d)?(Ke=0,fn=null,Zy(i)):(Ke=0,fn=null,Da(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||x_(v)){Ke=0,fn=null;var I=T.sibling;if(I!==null)Ne=I;else{var B=T.return;B!==null?(Ne=B,lc(B)):Ne=null}break t}}Ke=0,fn=null,Da(t,i,d,5);break;case 6:Ke=0,fn=null,Da(t,i,d,6);break;case 8:cd(),ut=6;break e;default:throw Error(s(462))}}lS();break}catch(Q){Yy(t,Q)}while(!0);return Oi=Ts=null,K.H=l,K.A=h,Ge=a,Ne!==null?0:(Je=null,Le=0,Du(),ut)}function lS(){for(;Ne!==null&&!uo();)Wy(Ne)}function Wy(t){var i=by(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,i===null?lc(t):Ne=i}function Zy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=_y(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=_y(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:If(i);default:Ry(a,i),i=Ne=Jp(i,Ui),i=by(a,i,Ui)}t.memoizedProps=t.pendingProps,i===null?lc(t):Ne=i}function Da(t,i,a,l){Oi=Ts=null,If(i),Ea=null,Xo=0;var h=i.return;try{if(WA(t,h,i,a,Le)){ut=1,Ju(t,An(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ut=1,Ju(t,An(a,t.current)),Ne=null;return}i.flags&32768?(je||l===1?t=!0:ba||(Le&536870912)!==0?t=!1:(mr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jy(i,t)):lc(i)}function lc(t){var i=t;do{if((i.flags&32768)!==0){Jy(i,mr);return}t=i.return;var a=JA(i.alternate,i,Ui);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ut===0&&(ut=5)}function Jy(t,i){do{var a=eS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ut=6,Ne=null}function e_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do uc();while(Ut!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=tf,go(t,a,d,v,T,I),t===Je&&(Ne=Je=null,Le=0),Ra=i,yr=t,Ia=a,od=d,ld=h,Fy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fS($r,function(){return s_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=se.p,se.p=2,v=Ge,Ge|=4;try{tS(t,i,a)}finally{Ge=v,se.p=h,K.T=l}}Ut=1,t_(),n_(),i_()}}function t_(){if(Ut===1){Ut=0;var t=yr,i=Ra,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=Ge;Ge|=4;try{Ly(i,t);var d=bd,v=Hp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&qp(T.ownerDocument.documentElement,T)){if(I!==null&&Xh(T)){var B=I.start,Q=I.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var W=T.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var q=j.getSelection(),Ee=T.textContent.length,ye=Math.min(I.start,Ee),Xe=I.end===void 0?ye:Math.min(I.end,Ee);!q.extend&&ye>Xe&&(v=Xe,Xe=ye,ye=v);var V=jp(T,ye),N=jp(T,Xe);if(V&&N&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var z=W.createRange();z.setStart(V.node,V.offset),q.removeAllRanges(),ye>Xe?(q.addRange(z),q.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),q.addRange(z))}}}}for(W=[],q=T;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var X=W[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Tc=!!Sd,bd=Sd=null}finally{Ge=h,se.p=l,K.T=a}}t.current=i,Ut=2}}function n_(){if(Ut===2){Ut=0;var t=yr,i=Ra,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=Ge;Ge|=4;try{xy(t,i.alternate,i)}finally{Ge=h,se.p=l,K.T=a}}Ut=3}}function i_(){if(Ut===4||Ut===3){Ut=0,ru();var t=yr,i=Ra,a=Ia,l=Fy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Ra=yr=null,r_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(gr=null),Ks(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,se.p=h}}(Ia&3)!==0&&uc(),si(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===ud?sl++:(sl=0,ud=t):sl=0,al(0)}}function r_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,zo(i)))}function uc(t){return t_(),n_(),i_(),s_()}function s_(){if(Ut!==5)return!1;var t=yr,i=od;od=0;var a=Ks(Ia),l=K.T,h=se.p;try{se.p=32>a?32:a,K.T=null,a=ld,ld=null;var d=yr,v=Ia;if(Ut=0,Ra=yr=null,Ia=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,qy(d.current),zy(d,d.current,v,a),Ge=T,al(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{se.p=h,K.T=l,r_(t,i)}}function a_(t,i,a){i=An(a,i),i=jf(t.stateNode,i,2),t=or(t,i,2),t!==null&&(gi(t,2),si(t))}function We(t,i,a){if(t.tag===3)a_(t,t,a);else for(;i!==null;){if(i.tag===3){a_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gr===null||!gr.has(l))){t=An(a,t),a=cy(2),l=or(i,a,2),l!==null&&(hy(a,l,i,t),gi(l,2),si(l));break}}i=i.return}}function dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new rS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(id=!0,h.add(a),t=uS.bind(null,t,i,a),i.then(t,t))}function uS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ut===4||ut===3&&(Le&62914560)===Le&&300>gn()-ad?(Ge&2)===0&&Ca(t,0):rd|=a,wa===Le&&(wa=0)),si(t)}function o_(t,i){i===0&&(i=po()),t=ca(t,i),t!==null&&(gi(t,i),si(t))}function cS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),o_(t,a)}function hS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),o_(t,a)}function fS(t,i){return Qr(t,i)}var cc=null,Oa=null,md=!1,hc=!1,pd=!1,Cs=0;function si(t){t!==Oa&&t.next===null&&(Oa===null?cc=Oa=t:Oa=Oa.next=t),hc=!0,md||(md=!0,mS())}function al(t,i){if(!pd&&hc){pd=!0;do for(var a=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ht(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,h_(l,d))}else d=Le,d=Gs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jr(l,d)||(a=!0,h_(l,d));l=l.next}while(a);pd=!1}}function dS(){l_()}function l_(){hc=md=!1;var t=0;Cs!==0&&(AS()&&(t=Cs),Cs=0);for(var i=gn(),a=null,l=cc;l!==null;){var h=l.next,d=u_(l,i);d===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(Oa=a)):(a=l,(t!==0||(d&3)!==0)&&(hc=!0)),l=h}al(t)}function u_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Ht(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=fo(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=Le,a=Gs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Yr(l),Ks(a)){case 2:case 8:a=Hs;break;case 32:a=$r;break;case 268435456:a=Fs;break;default:a=$r}return l=c_.bind(null,t),a=Qr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Yr(l),t.callbackPriority=2,t.callbackNode=null,2}function c_(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(uc()&&t.callbackNode!==a)return null;var l=Le;return l=Gs(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ky(t,l,i),u_(t,gn()),t.callbackNode!=null&&t.callbackNode===a?c_.bind(null,t):null)}function h_(t,i){if(uc())return null;Ky(t,i,!0)}function mS(){bS(function(){(Ge&6)!==0?Qr(co,dS):l_()})}function gd(){return Cs===0&&(Cs=mo()),Cs}function f_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zs(""+t)}function d_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function pS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=f_((h[mt]||null).action),v=l.submitter;v&&(i=(i=v[mt]||null)?f_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Js("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var I=v?d_(h,v):new FormData(h);kf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?d_(h,v):new FormData(h),kf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var yd=0;yd<ef.length;yd++){var _d=ef[yd],gS=_d.toLowerCase(),yS=_d[0].toUpperCase()+_d.slice(1);Vn(gS,"on"+yS)}Vn(Kp,"onAnimationEnd"),Vn(Qp,"onAnimationIteration"),Vn(Yp,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(VA,"onTransitionRun"),Vn(PA,"onTransitionStart"),Vn(kA,"onTransitionCancel"),Vn($p,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function m_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){Zu(Q)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){Zu(Q)}h.currentTarget=null,d=I}}}}function Me(t,i){var a=i[_o];a===void 0&&(a=i[_o]=new Set);var l=t+"__bubble";a.has(l)||(p_(i,t,2,!1),a.add(l))}function vd(t,i,a){var l=0;i&&(l|=4),p_(a,t,l,i)}var fc="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[fc]){t[fc]=!0,vo.forEach(function(a){a!=="selectionchange"&&(_S.has(a)||vd(a,!1,t),vd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[fc]||(i[fc]=!0,vd("selectionchange",!1,i))}}function p_(t,i,a,l){switch(z_(i)){case 2:var h=GS;break;case 8:h=KS;break;default:h=Vd}a=h.bind(null,i,a,t),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Td(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=yi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}mu(function(){var B=d,Q=vn(a),W=[];e:{var j=Xp.get(t);if(j!==void 0){var q=Js,Ee=t;switch(t){case"keypress":if(Xn(a)===0)break e;case"keydown":case"keyup":q=sa;break;case"focusin":Ee="focus",q=na;break;case"focusout":Ee="blur",q=na;break;case"beforeblur":case"afterblur":q=na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Au;break;case Kp:case Qp:case Yp:q=ia;break;case $p:q=bu;break;case"scroll":case"scrollend":q=pu;break;case"wheel":q=aa;break;case"copy":case"cut":case"paste":q=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=No;break;case"toggle":case"beforetoggle":q=Ru}var ye=(i&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),V=ye?j!==null?j+"Capture":null:j;ye=[];for(var N=B,z;N!==null;){var X=N;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||V===null||(X=os(N,V),X!=null&&ye.push(ll(N,X,z))),Xe)break;N=N.return}0<ye.length&&(j=new q(j,Ee,null,a,Q),W.push({event:j,listeners:ye}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&a!==Ti&&(Ee=a.relatedTarget||a.fromElement)&&(yi(Ee)||Ee[yn]))break e;if((q||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,q?(Ee=a.relatedTarget||a.toElement,q=B,Ee=Ee?yi(Ee):null,Ee!==null&&(Xe=u(Ee),ye=Ee.tag,Ee!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(q=null,Ee=B),q!==Ee)){if(ye=Tn,X="onMouseLeave",V="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ye=No,X="onPointerLeave",V="onPointerEnter",N="pointer"),Xe=q==null?j:Kn(q),z=Ee==null?j:Kn(Ee),j=new ye(X,N+"leave",q,a,Q),j.target=Xe,j.relatedTarget=z,X=null,yi(Q)===B&&(ye=new ye(V,N+"enter",Ee,a,Q),ye.target=z,ye.relatedTarget=Xe,X=ye),Xe=X,q&&Ee)t:{for(ye=q,V=Ee,N=0,z=ye;z;z=Na(z))N++;for(z=0,X=V;X;X=Na(X))z++;for(;0<N-z;)ye=Na(ye),N--;for(;0<z-N;)V=Na(V),z--;for(;N--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=Na(ye),V=Na(V)}ye=null}else ye=null;q!==null&&g_(W,j,q,ye,!1),Ee!==null&&Xe!==null&&g_(W,Xe,Ee,ye,!0)}}e:{if(j=B?Kn(B):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var ue=Pp;else if(At(j))if(kp)ue=NA;else{ue=DA;var Oe=CA}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&bo(B.elementType)&&(ue=Pp):ue=OA;if(ue&&(ue=ue(t,B))){Ri(W,ue,a,Q);break e}Oe&&Oe(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&nr(j,"number",j.value)}switch(Oe=B?Kn(B):window,t){case"focusin":(At(Oe)||Oe.contentEditable==="true")&&(oa=Oe,Wh=B,Vo=null);break;case"focusout":Vo=Wh=oa=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Fp(W,a,Q);break;case"selectionchange":if(xA)break;case"keydown":case"keyup":Fp(W,a,Q)}var fe;if(Jn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?F(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(fe=Ro()):($n=Q,ir="value"in $n?$n.value:$n.textContent,Pe=!0)),Oe=dc(B,_e),0<Oe.length&&(_e=new Do(_e,t,null,a,Q),W.push({event:_e,listeners:Oe}),fe?_e.data=fe:(fe=ie(a),fe!==null&&(_e.data=fe)))),(fe=g?Tt(t,a):ke(t,a))&&(_e=dc(B,"onBeforeInput"),0<_e.length&&(Oe=new Do("onBeforeInput","beforeinput",null,a,Q),W.push({event:Oe,listeners:_e}),Oe.data=fe)),pS(W,t,B,a,Q)}m_(W,i)})}function ll(t,i,a){return{instance:t,listener:i,currentTarget:a}}function dc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=os(t,a),h!=null&&l.unshift(ll(t,h,d)),h=os(t,i),h!=null&&l.push(ll(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=os(a,d),B!=null&&v.unshift(ll(a,B,I))):h||(B=os(a,d),B!=null&&v.push(ll(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var vS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function y_(t){return(typeof t=="string"?t:""+t).replace(vS,`
`).replace(ES,"")}function __(t,i){return i=y_(i),y_(t)===i}function mc(){}function $e(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(t,""+l);break;case"className":Qn(t,"class",l);break;case"tabIndex":Qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(t,a,l);break;case"style":So(t,l,d);break;case"data":if(i!=="object"){Qn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=mc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Zs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),tr(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fh.get(a)||a,tr(t,a,l))}}function Ad(t,i,a,l,h,d){switch(a){case"style":So(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):tr(t,a,l)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),l&&$e(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:$e(t,i,l,Q,a,null)}}rs(t,d,T,I,B,v,h,!1),Ws(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ei(t,!!l,i,!1):a!=null&&Ei(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,i,v,T,a,null)}ss(t,l,h,d),Ws(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,I,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<ol.length;l++)Me(ol[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,B,l,a,null)}return;default:if(bo(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Ad(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,i,T,l,a,null))}function TS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Q=null;for(q in a){var W=a[q];if(a.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(q)||$e(t,i,q,null,l,W)}}for(var j in l){var q=l[j];if(W=a[j],l.hasOwnProperty(j)&&(q!=null||W!=null))switch(j){case"type":d=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":Q=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==W&&$e(t,i,j,q,l,W)}}on(t,v,T,I,B,Q,d,h);return;case"select":q=v=T=j=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,i,h,d,l,I)}i=T,a=v,l=q,j!=null?Ei(t,!!a,j,!1):!!l!=!!a&&(i!=null?Ei(t,!!a,i,!0):Ei(t,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,i,v,h,l,d)}Qe(t,j,q);return;case"option":for(var Ee in a)if(j=a[Ee],a.hasOwnProperty(Ee)&&j!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:$e(t,i,Ee,null,l,j)}for(I in l)if(j=l[I],q=a[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:$e(t,i,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)j=a[ye],a.hasOwnProperty(ye)&&j!=null&&!l.hasOwnProperty(ye)&&$e(t,i,ye,null,l,j);for(B in l)if(j=l[B],q=a[B],l.hasOwnProperty(B)&&j!==q&&(j!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:$e(t,i,B,j,l,q)}return;default:if(bo(i)){for(var Xe in a)j=a[Xe],a.hasOwnProperty(Xe)&&j!==void 0&&!l.hasOwnProperty(Xe)&&Ad(t,i,Xe,void 0,l,j);for(Q in l)j=l[Q],q=a[Q],!l.hasOwnProperty(Q)||j===q||j===void 0&&q===void 0||Ad(t,i,Q,j,l,q);return}}for(var V in a)j=a[V],a.hasOwnProperty(V)&&j!=null&&!l.hasOwnProperty(V)&&$e(t,i,V,null,l,j);for(W in l)j=l[W],q=a[W],!l.hasOwnProperty(W)||j===q||j==null&&q==null||$e(t,i,W,j,l,q)}var Sd=null,bd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function v_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function AS(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,SS=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,bS=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(wS)}:T_;function wS(t){setTimeout(function(){throw t})}function vr(t){return t==="head"}function S_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&ul(v.documentElement),a&2&&ul(v.body),a&4)for(a=v.head,ul(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[es]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),yl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);yl(i)}function Id(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function RS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[es])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function IS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function Cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function CS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Dd=null;function b_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function w_(t,i,a){switch(i=pc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);er(t)}var Cn=new Map,R_=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zi=se.d;se.d={f:DS,r:OS,D:NS,C:MS,L:xS,m:VS,X:kS,S:PS,M:LS};function DS(){var t=zi.f(),i=oc();return t||i}function OS(t){var i=Gn(t);i!==null&&i.tag===5&&i.type==="form"?Kg(i):zi.r(t)}var Ma=typeof document>"u"?null:document;function I_(t,i,a){var l=Ma;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R_.has(h)||(R_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function NS(t){zi.D(t),I_("dns-prefetch",t,null)}function MS(t,i){zi.C(t,i),I_("preconnect",t,i)}function xS(t,i,a){zi.L(t,i,a);var l=Ma;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=xa(t);break;case"script":d=Va(t)}Cn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Cn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(cl(d))||i==="script"&&l.querySelector(hl(d))||(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function VS(t,i){zi.m(t,i);var a=Ma;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Va(t)}if(!Cn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Cn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(d)))return}l=a.createElement("link"),zt(l,"link",t),ct(l),a.head.appendChild(l)}}}function PS(t,i,a){zi.S(t,i,a);var l=Ma;if(l&&t){var h=Wt(l).hoistableStyles,d=xa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(cl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Cn.get(d))&&Od(t,a);var I=v=l.createElement("link");ct(I),zt(I,"link",t),I._p=new Promise(function(B,Q){I.onload=B,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function kS(t,i){zi.X(t,i);var a=Ma;if(a&&t){var l=Wt(a).hoistableScripts,h=Va(t),d=l.get(h);d||(d=a.querySelector(hl(h)),d||(t=E({src:t,async:!0},i),(i=Cn.get(h))&&Nd(t,i),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function LS(t,i){zi.M(t,i);var a=Ma;if(a&&t){var l=Wt(a).hoistableScripts,h=Va(t),d=l.get(h);d||(d=a.querySelector(hl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Cn.get(h))&&Nd(t,i),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function C_(t,i,a,l){var h=(h=Ae.current)?gc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=xa(a.href),a=Wt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=xa(a.href);var d=Wt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(cl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(t,a),d||US(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Va(a),a=Wt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function xa(t){return'href="'+pt(t)+'"'}function cl(t){return'link[rel="stylesheet"]['+t+"]"}function D_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function US(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),ct(i),t.head.appendChild(i))}function Va(t){return'[src="'+pt(t)+'"]'}function hl(t){return"script[async]"+t}function O_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),zt(l,"style",h),yc(l,a.precedence,t),i.instance=l;case"stylesheet":h=xa(a.href);var d=t.querySelector(cl(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=D_(a),(h=Cn.get(h))&&Od(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",l),i.state.loading|=4,yc(d,a.precedence,t),i.instance=d;case"script":return d=Va(a.src),(h=t.querySelector(hl(d)))?(i.instance=h,ct(h),h):(l=a,(h=Cn.get(d))&&(l=E({},a),Nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yc(l,a.precedence,t));return i.instance}function yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Od(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Nd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var _c=null;function N_(t,i,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[es]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function M_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function zS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var fl=null;function BS(){}function jS(t,i,a){if(fl===null)throw Error(s(475));var l=fl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=xa(a.href),d=t.querySelector(cl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,a=D_(a),(h=Cn.get(h))&&Od(a,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function qS(){if(fl===null)throw Error(s(475));var t=fl;return t.stylesheets&&t.count===0&&Md(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Md(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function vc(){if(this.count--,this.count===0){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function Md(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,i.forEach(HS,t),Ec=null,vc.call(t))}function HS(t,i){if(!(i.state.loading&4)){var a=Ec.get(t);if(a)var l=a.get(null);else{a=new Map,Ec.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var dl={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function FS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function V_(t,i,a,l,h,d,v,T,I,B,Q,W){return t=new FS(t,i,a,v,T,I,B,W),i=1,d===!0&&(i|=24),d=un(3,null,null,i),t.current=d,d.stateNode=t,i=df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},yf(d),t}function P_(t){return t?(t=ha,t):ha}function k_(t,i,a,l,h,d){h=P_(h),l.context===null?l.context=h:l.pendingContext=h,l=ar(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=or(t,l,i),a!==null&&(mn(a,t,i),Ho(a,t,i))}function L_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function xd(t,i){L_(t,i),(t=t.alternate)&&L_(t,i)}function U_(t){if(t.tag===13){var i=ca(t,67108864);i!==null&&mn(i,t,67108864),xd(t,67108864)}}var Tc=!0;function GS(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=2,Vd(t,i,a,l)}finally{se.p=d,K.T=h}}function KS(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=8,Vd(t,i,a,l)}finally{se.p=d,K.T=h}}function Vd(t,i,a,l){if(Tc){var h=Pd(l);if(h===null)Td(t,i,l,Ac,a),B_(t,l);else if(YS(h,t,i,a,l))l.stopPropagation();else if(B_(t,l),i&4&&-1<QS.indexOf(t)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Nn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Ht(v);T.entanglements[1]|=I,v&=~I}si(d),(Ge&6)===0&&(sc=gn()+500,al(0))}}break;case 13:T=ca(d,2),T!==null&&mn(T,d,2),oc(),xd(d,2)}if(d=Pd(l),d===null&&Td(t,i,l,Ac,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Td(t,i,l,null,a)}}function Pd(t){return t=vn(t),kd(t)}var Ac=null;function kd(t){if(Ac=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ac=t,null}function z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uh()){case co:return 2;case Hs:return 8;case $r:case zh:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Ld=!1,Er=null,Tr=null,Ar=null,ml=new Map,pl=new Map,Sr=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,i){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(i.pointerId)}}function gl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&U_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function YS(t,i,a,l,h){switch(i){case"focusin":return Er=gl(Er,t,i,a,l,h),!0;case"dragenter":return Tr=gl(Tr,t,i,a,l,h),!0;case"mouseover":return Ar=gl(Ar,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ml.set(d,gl(ml.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,pl.set(d,gl(pl.get(d)||null,t,i,a,l,h)),!0}return!1}function j_(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ou(t.priority,function(){if(a.tag===13){var l=dn();l=Wi(l);var h=ca(a,l);h!==null&&mn(h,a,l),xd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Pd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ti=l,a.target.dispatchEvent(l),Ti=null}else return i=Gn(a),i!==null&&U_(i),t.blockedOn=a,!1;i.shift()}return!0}function q_(t,i,a){Sc(t)&&a.delete(i)}function $S(){Ld=!1,Er!==null&&Sc(Er)&&(Er=null),Tr!==null&&Sc(Tr)&&(Tr=null),Ar!==null&&Sc(Ar)&&(Ar=null),ml.forEach(q_),pl.forEach(q_)}function bc(t,i){t.blockedOn===i&&(t.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$S)))}var wc=null;function H_(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(kd(l||a)===null)continue;break}var d=Gn(a);d!==null&&(t.splice(i,3),i-=3,kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function yl(t){function i(I){return bc(I,t)}Er!==null&&bc(Er,t),Tr!==null&&bc(Tr,t),Ar!==null&&bc(Ar,t),ml.forEach(i),pl.forEach(i);for(var a=0;a<Sr.length;a++){var l=Sr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)j_(a),a.blockedOn===null&&Sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||H_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)T=v.formAction;else if(kd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),H_(a)}}}function Ud(t){this._internalRoot=t}Rc.prototype.render=Ud.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=dn();k_(a,l,t,i,null,null)},Rc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;k_(t.current,2,null,t,null,null),oc(),i[yn]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Zi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Sr.length&&i!==0&&i<Sr[a].priority;a++);Sr.splice(a,0,t),a===0&&j_(t)}};var F_=e.version;if(F_!=="19.1.0")throw Error(s(527,F_,"19.1.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var XS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{ot=Ic.inject(XS),Fe=Ic}catch{}}return vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=ay,d=oy,v=ly,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=V_(t,1,!1,null,null,a,l,h,d,v,T,null),t[yn]=i.current,Ed(t),new Ud(i)},vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ay,v=oy,T=ly,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=V_(t,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=P_(null),a=i.current,l=dn(),l=Wi(l),h=ar(l),h.callback=null,or(a,h,l),a=l,i.current.lanes=a,gi(i,a),si(i),t[yn]=i.current,Ed(t),new Rc(i)},vl.version="19.1.0",vl}var ev;function ab(){if(ev)return jd.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jd.exports=sb(),jd.exports}var ob=ab();const lb=BE(ob);var El={},tv;function ub(){if(tv)return El;tv=1,Object.defineProperty(El,"__esModule",{value:!0}),El.parse=f,El.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,P){const k=new u,Y=R.length;if(Y<2)return k;const H=(P==null?void 0:P.decode)||E;let $=0;do{const re=R.indexOf("=",$);if(re===-1)break;const te=R.indexOf(";",$),de=te===-1?Y:te;if(re>de){$=R.lastIndexOf(";",re-1)+1;continue}const he=m(R,$,re),we=p(R,re,he),M=R.slice(he,we);if(k[M]===void 0){let b=m(R,re+1,de),w=p(R,de,b);const O=H(R.slice(b,w));k[M]=O}$=de+1}while($<Y);return k}function m(R,P,k){do{const Y=R.charCodeAt(P);if(Y!==32&&Y!==9)return P}while(++P<k);return k}function p(R,P,k){for(;P>k;){const Y=R.charCodeAt(--P);if(Y!==32&&Y!==9)return P+1}return k}function y(R,P,k){const Y=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const H=Y(P);if(!e.test(H))throw new TypeError(`argument val is invalid: ${P}`);let $=R+"="+H;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!S(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return o.call(R)==="[object Date]"}return El}ub();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nv="popstate";function cb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Vl(o)}return fb(e,n,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hb(){return Math.random().toString(36).substring(2,10)}function iv(r,e){return{usr:r.state,key:r.key,idx:e}}function am(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ja(e):e,state:n,key:e&&e.key||s||hb()}}function Vl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ja(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function fb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),$=H==null?null:H-y;y=H,p&&p({action:m,location:Y.location,delta:$})}function R(H,$){m="PUSH";let re=am(Y.location,H,$);y=E()+1;let te=iv(re,y),de=Y.createHref(re);try{f.pushState(te,"",de)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(de)}u&&p&&p({action:m,location:Y.location,delta:1})}function P(H,$){m="REPLACE";let re=am(Y.location,H,$);y=E();let te=iv(re,y),de=Y.createHref(re);f.replaceState(te,"",de),u&&p&&p({action:m,location:Y.location,delta:0})}function k(H){let $=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof H=="string"?H:Vl(H);return re=re.replace(/ $/,"%20"),it($,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,$)}let Y={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(nv,S),p=H,()=>{o.removeEventListener(nv,S),p=null}},createHref(H){return e(o,H)},createURL:k,encodeLocation(H){let $=k(H);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:P,go(H){return f.go(H)}};return Y}function jE(r,e,n="/"){return db(r,e,n,!1)}function db(r,e,n,s){let o=typeof e=="string"?Ja(e):e,u=Fi(o.pathname||"/",n);if(u==null)return null;let f=qE(r);mb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=wb(u);m=Sb(f[p],y,s)}return m}function qE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=qi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),qE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Tb(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of HE(u.path))o(u,f,p)}),e}function HE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=HE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function mb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Ab(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var pb=/^:[\w-]+$/,gb=3,yb=2,_b=1,vb=10,Eb=-2,rv=r=>r==="*";function Tb(r,e){let n=r.split("/"),s=n.length;return n.some(rv)&&(s+=Eb),e&&(s+=yb),n.filter(o=>!rv(o)).reduce((o,u)=>o+(pb.test(u)?gb:u===""?_b:vb),s)}function Ab(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Sb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:qi([u,S.pathname]),pathnameBase:Db(qi([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=qi([u,S.pathnameBase]))}return f}function Qc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=bb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let k=m[R]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const P=m[R];return S&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function bb(r,e=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Rb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ja(r):r;return{pathname:n?n.startsWith("/")?n:Ib(n,e):e,search:Ob(s),hash:Nb(o)}}function Ib(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Gd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pm(r){let e=Cb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function km(r,e,n,s=!1){let o;typeof r=="string"?o=Ja(r):(o={...r},it(!o.pathname||!o.pathname.includes("?"),Gd("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Gd("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Gd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let p=Rb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var qi=r=>r.join("/").replace(/\/\/+/g,"/"),Db=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ob=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Nb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Mb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var FE=["POST","PUT","PATCH","DELETE"];new Set(FE);var xb=["GET",...FE];new Set(xb);var eo=G.createContext(null);eo.displayName="DataRouter";var yh=G.createContext(null);yh.displayName="DataRouterState";var GE=G.createContext({isTransitioning:!1});GE.displayName="ViewTransition";var Vb=G.createContext(new Map);Vb.displayName="Fetchers";var Pb=G.createContext(null);Pb.displayName="Await";var qn=G.createContext(null);qn.displayName="Navigation";var Gl=G.createContext(null);Gl.displayName="Location";var di=G.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Lm=G.createContext(null);Lm.displayName="RouteError";function kb(r,{relative:e}={}){it(to(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(qn),{hash:o,pathname:u,search:f}=Kl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:qi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function to(){return G.useContext(Gl)!=null}function Hr(){return it(to(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Gl).location}var KE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(r){G.useContext(qn).static||G.useLayoutEffect(r)}function Um(){let{isDataRoute:r}=G.useContext(di);return r?$b():Lb()}function Lb(){it(to(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(eo),{basename:e,navigator:n}=G.useContext(qn),{matches:s}=G.useContext(di),{pathname:o}=Hr(),u=JSON.stringify(Pm(s)),f=G.useRef(!1);return QE(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(zn(f.current,KE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=km(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:qi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}G.createContext(null);function Kl(r,{relative:e}={}){let{matches:n}=G.useContext(di),{pathname:s}=Hr(),o=JSON.stringify(Pm(n));return G.useMemo(()=>km(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Ub(r,e){return YE(r,e)}function YE(r,e,n,s){var re;it(to(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(qn),{matches:f}=G.useContext(di),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let te=S&&S.path||"";$E(y,!S||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let R=Hr(),P;if(e){let te=typeof e=="string"?Ja(e):e;it(E==="/"||((re=te.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),P=te}else P=R;let k=P.pathname||"/",Y=k;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Y="/"+k.replace(/^\//,"").split("/").slice(te.length).join("/")}let H=!u&&n&&n.matches&&n.matches.length>0?n.matches:jE(r,{pathname:Y});zn(S||H!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),zn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Hb(H&&H.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:qi([E,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:qi([E,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,s);return e&&$?G.createElement(Gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},$):$}function zb(){let r=Yb(),e=Mb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var Bb=G.createElement(zb,null),jb=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(di.Provider,{value:this.props.routeContext},G.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qb({routeContext:r,match:e,children:n}){let s=G.useContext(eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(di.Provider,{value:r},n)}function Hb(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:S}=n,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,R=!1,P=null,k=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||Bb,f&&(m<0&&E===0?($E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,k=null):m===E&&(R=!0,k=y.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),H=()=>{let $;return S?$=P:R?$=k:y.route.Component?$=G.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,G.createElement(qb,{match:y,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(jb,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:H(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):H()},null)}function zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(r){let e=G.useContext(eo);return it(e,zm(r)),e}function Gb(r){let e=G.useContext(yh);return it(e,zm(r)),e}function Kb(r){let e=G.useContext(di);return it(e,zm(r)),e}function Bm(r){let e=Kb(r),n=e.matches[e.matches.length-1];return it(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Qb(){return Bm("useRouteId")}function Yb(){var s;let r=G.useContext(Lm),e=Gb("useRouteError"),n=Bm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function $b(){let{router:r}=Fb("useNavigate"),e=Bm("useNavigate"),n=G.useRef(!1);return QE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{zn(n.current,KE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var sv={};function $E(r,e,n){!e&&!sv[r]&&(sv[r]=!0,zn(!1,n))}G.memo(Xb);function Xb({routes:r,future:e,state:n}){return YE(r,void 0,n,e)}function Kd({to:r,replace:e,state:n,relative:s}){it(to(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(qn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(di),{pathname:f}=Hr(),m=Um(),p=km(r,Pm(u),f,s==="path"),y=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Al(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!to(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ja(n));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:R="default"}=n,P=G.useMemo(()=>{let k=Fi(p,f);return k==null?null:{location:{pathname:k,search:y,hash:E,state:S,key:R},navigationType:s}},[f,p,y,E,S,R,s]);return zn(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(qn.Provider,{value:m},G.createElement(Gl.Provider,{children:e,value:P}))}function Zb({children:r,location:e}){return Ub(om(r),e)}function om(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,om(s.props.children,u));return}it(s.type===Al,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=om(s.props.children,u)),n.push(f)}),n}var Pc="get",kc="application/x-www-form-urlencoded";function _h(r){return r!=null&&typeof r.tagName=="string"}function Jb(r){return _h(r)&&r.tagName.toLowerCase()==="button"}function ew(r){return _h(r)&&r.tagName.toLowerCase()==="form"}function tw(r){return _h(r)&&r.tagName.toLowerCase()==="input"}function nw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iw(r,e){return r.button===0&&(!e||e==="_self")&&!nw(r)}var Cc=null;function rw(){if(Cc===null)try{new FormData(document.createElement("form"),0),Cc=!1}catch{Cc=!0}return Cc}var sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qd(r){return r!=null&&!sw.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):r}function aw(r,e){let n,s,o,u,f;if(ew(r)){let m=r.getAttribute("action");s=m?Fi(m,e):null,n=r.getAttribute("method")||Pc,o=Qd(r.getAttribute("enctype"))||kc,u=new FormData(r)}else if(Jb(r)||tw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Fi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Pc,o=Qd(r.getAttribute("formenctype"))||Qd(m.getAttribute("enctype"))||kc,u=new FormData(m,r),!rw()){let{name:y,type:E,value:S}=r;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,S)}}else{if(_h(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pc,s=null,o=kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function jm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ow(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function uw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ow(u,n);return f.links?f.links():[]}return[]}));return dw(s.flat(1).filter(lw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function av(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function cw(r,e,{includeHydrateFallback:n}={}){return hw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function hw(r){return[...new Set(r)]}function fw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function dw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(fw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function mw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Fi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function XE(){let r=G.useContext(eo);return jm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pw(){let r=G.useContext(yh);return jm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qm=G.createContext(void 0);qm.displayName="FrameworkContext";function WE(){let r=G.useContext(qm);return jm(r,"You must render this element inside a <HydratedRouter> element"),r}function gw(r,e){let n=G.useContext(qm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,R=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=$=>{$.forEach(re=>{f(re.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return R.current&&H.observe(R.current),()=>{H.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let P=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Tl(m,P),onBlur:Tl(p,k),onMouseEnter:Tl(y,P),onMouseLeave:Tl(E,k),onTouchStart:Tl(S,P)}]:[!1,R,{}]}function Tl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function yw({page:r,...e}){let{router:n}=XE(),s=G.useMemo(()=>jE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(vw,{page:r,matches:s,...e}):null}function _w(r){let{manifest:e,routeModules:n}=WE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return uw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function vw({page:r,matches:e,...n}){let s=Hr(),{manifest:o,routeModules:u}=WE(),{basename:f}=XE(),{loaderData:m,matches:p}=pw(),y=G.useMemo(()=>av(r,e,p,o,s,"data"),[r,e,p,o,s]),E=G.useMemo(()=>av(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,Y=!1;if(e.forEach($=>{var te;let re=o.routes[$.route.id];!re||!re.hasLoader||(!y.some(de=>de.route.id===$.route.id)&&$.route.id in m&&((te=u[$.route.id])!=null&&te.shouldRevalidate)||re.hasClientLoader?Y=!0:k.add($.route.id))}),k.size===0)return[];let H=mw(r,f);return Y&&k.size>0&&H.searchParams.set("_routes",e.filter($=>k.has($.route.id)).map($=>$.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,e,r,u]),R=G.useMemo(()=>cw(E,o),[E,o]),P=_w(E);return G.createElement(G.Fragment,null,S.map(k=>G.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),R.map(k=>G.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),P.map(({key:k,link:Y})=>G.createElement("link",{key:k,...Y})))}function Ew(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.5.0")}catch{}function Tw({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=cb({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(Wb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yc=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...R},P){let{basename:k}=G.useContext(qn),Y=typeof y=="string"&&JE.test(y),H,$=!1;if(typeof y=="string"&&Y&&(H=y,ZE))try{let w=new URL(window.location.href),O=y.startsWith("//")?new URL(w.protocol+y):new URL(y),x=Fi(O.pathname,k);O.origin===w.origin&&x!=null?y=x+O.search+O.hash:$=!0}catch{zn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=kb(y,{relative:o}),[te,de,he]=gw(s,R),we=ww(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function M(w){e&&e(w),w.defaultPrevented||we(w)}let b=G.createElement("a",{...R,...he,href:H||re,onClick:$||u?e:M,ref:Ew(P,de),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return te&&!Y?G.createElement(G.Fragment,null,b,G.createElement(yw,{page:re})):b});Yc.displayName="Link";var Aw=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let S=Kl(f,{relative:y.relative}),R=Hr(),P=G.useContext(yh),{navigator:k,basename:Y}=G.useContext(qn),H=P!=null&&Ow(S)&&m===!0,$=k.encodeLocation?k.encodeLocation(S).pathname:S.pathname,re=R.pathname,te=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(re=re.toLowerCase(),te=te?te.toLowerCase():null,$=$.toLowerCase()),te&&Y&&(te=Fi(te,Y)||te);const de=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let he=re===$||!o&&re.startsWith($)&&re.charAt(de)==="/",we=te!=null&&(te===$||!o&&te.startsWith($)&&te.charAt($.length)==="/"),M={isActive:he,isPending:we,isTransitioning:H},b=he?e:void 0,w;typeof s=="function"?w=s(M):w=[s,he?"active":null,we?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return G.createElement(Yc,{...y,"aria-current":b,className:w,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(M):p)});Aw.displayName="NavLink";var Sw=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Pc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...R},P)=>{let k=Cw(),Y=Dw(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&JE.test(m),re=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let de=te.nativeEvent.submitter,he=(de==null?void 0:de.getAttribute("formmethod"))||f;k(de||te.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:P,method:H,action:Y,onSubmit:s?p:re,...R,"data-discover":!$&&r==="render"?"true":void 0})});Sw.displayName="Form";function bw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e0(r){let e=G.useContext(eo);return it(e,bw(r)),e}function ww(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Um(),p=Hr(),y=Kl(r,{relative:u});return G.useCallback(E=>{if(iw(E,e)){E.preventDefault();let S=n!==void 0?n:Vl(p)===Vl(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var Rw=0,Iw=()=>`__${String(++Rw)}__`;function Cw(){let{router:r}=e0("useSubmit"),{basename:e}=G.useContext(qn),n=Qb();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=aw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Iw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Dw(r,{relative:e}={}){let{basename:n}=G.useContext(qn),s=G.useContext(di);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Kl(r||".",{relative:e})},f=Hr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:qi([n,u.pathname])),Vl(u)}function Ow(r,e={}){let n=G.useContext(GE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=e0("useViewTransitionState"),o=Kl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qc(o.pathname,f)!=null||Qc(o.pathname,u)!=null}new TextEncoder;var t0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ov=Nr.createContext&&Nr.createContext(t0),Nw=["attr","size","title"];function Mw(r,e){if(r==null)return{};var n=xw(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function xw(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function $c(){return $c=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},$c.apply(this,arguments)}function lv(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function Xc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lv(Object(n),!0).forEach(function(s){Vw(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function Vw(r,e,n){return e=Pw(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Pw(r){var e=kw(r,"string");return typeof e=="symbol"?e:e+""}function kw(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function n0(r){return r&&r.map((e,n)=>Nr.createElement(e.tag,Xc({key:n},e.attr),n0(e.child)))}function Hm(r){return e=>Nr.createElement(Lw,$c({attr:Xc({},r.attr)},e),n0(r.child))}function Lw(r){var e=n=>{var{attr:s,size:o,title:u}=r,f=Mw(r,Nw),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Nr.createElement("svg",$c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Xc(Xc({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Nr.createElement("title",null,u),r.children)};return ov!==void 0?Nr.createElement(ov.Consumer,null,n=>e(n)):e(t0)}function Uw(r){return Hm({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(r)}function zw(r){return Hm({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(r)}function Bw(r){return Hm({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"},child:[]}]})(r)}const jw=({id:r,text:e,date:n,handleDeleteNote:s})=>oe.jsxs("div",{className:"bg-yellow-200 rounded-lg p-4 flex flex-col justify-between min-h-[170px] shadow-md",children:[oe.jsx("span",{className:"text-sm text-black break-words",children:e}),oe.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[oe.jsx("small",{className:"text-gray-600",children:n}),oe.jsx(Uw,{onClick:()=>s(r),className:"cursor-pointer text-red-500 hover:text-red-700 text-lg"})]})]}),qw=({handleAddNote:r})=>{const[e,n]=G.useState(""),s=200,o=f=>{s-f.target.value.length>=0&&n(f.target.value)},u=()=>{e.trim().length>0&&(r(e),n(""))};return oe.jsxs("div",{className:"bg-yellow-100 rounded-lg p-4 flex flex-col justify-between min-h-[170px] shadow-md",children:[oe.jsx("textarea",{rows:"4",placeholder:"Type to add a note...",className:"bg-transparent resize-none outline-none text-black",value:e,onChange:o}),oe.jsxs("div",{className:"flex items-center justify-between text-black text-sm mt-2",children:[oe.jsxs("span",{children:[s-e.length," Remaining"]}),oe.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-1 rounded",onClick:u,children:"Save"})]})]})},Hw=({notes:r,handleAddNote:e,handleDeleteNote:n})=>oe.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4	",children:[r.map(s=>oe.jsx(jw,{id:s.id,text:s.text,date:s.date,handleDeleteNote:n},s.id)),oe.jsx(qw,{handleAddNote:e})]}),Fw=({handleSearchNote:r,searchText:e})=>{const n=G.useRef(null);return G.useEffect(()=>{var s;(s=n.current)==null||s.focus()},[]),oe.jsx("div",{className:"my-4",children:oe.jsx("input",{type:"text",ref:n,placeholder:"Search notes...",value:e,onChange:s=>r(s.target.value),className:"w-full px-4 py-2 text-base rounded-md  shadow-sm focus:outline-none dark:bg-[#e1e1e1] dark:text-grey placeholder-gray-500 dark:placeholder-gray-900"})})},Gw=()=>{};var uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Kw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},r0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(R=64)),s.push(n[E],n[S],n[R],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(i0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Kw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Qw;const R=u<<2|m>>4;if(s.push(R),y!==64){const P=m<<4&240|y>>2;if(s.push(P),S!==64){const k=y<<6&192|S;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yw=function(r){const e=i0(r);return r0.encodeByteArray(e,!0)},Wc=function(r){return Yw(r).replace(/\./g,"")},s0=function(r){try{return r0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=()=>$w().__FIREBASE_DEFAULTS__,Ww=()=>{if(typeof process>"u"||typeof uv>"u")return;const r=uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Zw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&s0(r[1]);return e&&JSON.parse(e)},vh=()=>{try{return Gw()||Xw()||Ww()||Zw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},a0=r=>{var e,n;return(n=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Jw=r=>{const e=a0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},o0=()=>{var r;return(r=vh())===null||r===void 0?void 0:r.config},l0=r=>{var e;return(e=vh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Wc(JSON.stringify(n)),Wc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function iR(){var r;const e=(r=vh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lR(){return!iR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class $i extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=hR,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?fR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new $i(o,m,s)}}function fR(r,e){return r.replace(dR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const dR=/\{\$([^}]+)}/g;function mR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ms(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(cv(u)&&cv(f)){if(!Ms(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function cv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Sl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function pR(r,e){const n=new gR(r,e);return n.subscribe.bind(n)}class gR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");yR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Yd),o.error===void 0&&(o.error=Yd),o.complete===void 0&&(o.complete=Yd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(r){return r&&r._delegate?r._delegate:r}class xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new eR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ER(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(r){return r===Ds?void 0:r}function ER(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const AR={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},SR=xe.INFO,bR={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},wR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=bR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=SR,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const RR=(r,e)=>e.some(n=>r instanceof n);let hv,fv;function IR(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u0=new WeakMap,lm=new WeakMap,c0=new WeakMap,$d=new WeakMap,Gm=new WeakMap;function DR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Mr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&u0.set(n,r)}).catch(()=>{}),Gm.set(e,r),e}function OR(r){if(lm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});lm.set(r,e)}let um={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return lm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||c0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NR(r){um=r(um)}function MR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Xd(this),e,...n);return c0.set(s,e.sort?e.sort():[e]),Mr(s)}:CR().includes(r)?function(...e){return r.apply(Xd(this),e),Mr(u0.get(this))}:function(...e){return Mr(r.apply(Xd(this),e))}}function xR(r){return typeof r=="function"?MR(r):(r instanceof IDBTransaction&&OR(r),RR(r,IR())?new Proxy(r,um):r)}function Mr(r){if(r instanceof IDBRequest)return DR(r);if($d.has(r))return $d.get(r);const e=xR(r);return e!==r&&($d.set(r,e),Gm.set(e,r)),e}const Xd=r=>Gm.get(r);function VR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Mr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Mr(f.result),p.oldVersion,p.newVersion,Mr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const PR=["get","getKey","getAll","getAllKeys","count"],kR=["put","add","delete","clear"],Wd=new Map;function dv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=kR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Wd.set(e,u),u}NR(r=>({...r,get:(e,n,s)=>dv(e,n)||r.get(e,n,s),has:(e,n)=>!!dv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function UR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",mv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Fm("@firebase/app"),zR="@firebase/app-compat",BR="@firebase/analytics-compat",jR="@firebase/analytics",qR="@firebase/app-check-compat",HR="@firebase/app-check",FR="@firebase/auth",GR="@firebase/auth-compat",KR="@firebase/database",QR="@firebase/data-connect",YR="@firebase/database-compat",$R="@firebase/functions",XR="@firebase/functions-compat",WR="@firebase/installations",ZR="@firebase/installations-compat",JR="@firebase/messaging",e1="@firebase/messaging-compat",t1="@firebase/performance",n1="@firebase/performance-compat",i1="@firebase/remote-config",r1="@firebase/remote-config-compat",s1="@firebase/storage",a1="@firebase/storage-compat",o1="@firebase/firestore",l1="@firebase/vertexai",u1="@firebase/firestore-compat",c1="firebase",h1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",f1={[cm]:"fire-core",[zR]:"fire-core-compat",[jR]:"fire-analytics",[BR]:"fire-analytics-compat",[HR]:"fire-app-check",[qR]:"fire-app-check-compat",[FR]:"fire-auth",[GR]:"fire-auth-compat",[KR]:"fire-rtdb",[QR]:"fire-data-connect",[YR]:"fire-rtdb-compat",[$R]:"fire-fn",[XR]:"fire-fn-compat",[WR]:"fire-iid",[ZR]:"fire-iid-compat",[JR]:"fire-fcm",[e1]:"fire-fcm-compat",[t1]:"fire-perf",[n1]:"fire-perf-compat",[i1]:"fire-rc",[r1]:"fire-rc-compat",[s1]:"fire-gcs",[a1]:"fire-gcs-compat",[o1]:"fire-fst",[u1]:"fire-fst-compat",[l1]:"fire-vertex","fire-js":"fire-js",[c1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,d1=new Map,fm=new Map;function pv(r,e){try{r.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ga(r){const e=r.name;if(fm.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,r);for(const n of Zc.values())pv(n,r);for(const n of d1.values())pv(n,r);return!0}function Km(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Dn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Ql("app","Firebase",m1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=h1;function h0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:hm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(n||(n=o0()),!n)throw xr.create("no-options");const u=Zc.get(o);if(u){if(Ms(n,u.options)&&Ms(s,u.config))return u;throw xr.create("duplicate-app",{appName:o})}const f=new TR(o);for(const p of fm.values())f.addComponent(p);const m=new p1(n,s,f);return Zc.set(o,m),m}function f0(r=hm){const e=Zc.get(r);if(!e&&r===hm&&o0())return h0();if(!e)throw xr.create("no-app",{appName:r});return e}function Vr(r,e,n){var s;let o=(s=f1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(m.join(" "));return}Ga(new xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="firebase-heartbeat-database",y1=1,Pl="firebase-heartbeat-store";let Zd=null;function d0(){return Zd||(Zd=VR(g1,y1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),Zd}async function _1(r){try{const n=(await d0()).transaction(Pl),s=await n.objectStore(Pl).get(m0(r));return await n.done,s}catch(e){if(e instanceof $i)Gi.warn(e.message);else{const n=xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function gv(r,e){try{const s=(await d0()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(e,m0(r)),await s.done}catch(n){if(n instanceof $i)Gi.warn(n.message);else{const s=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(s.message)}}}function m0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=1024,E1=30;class T1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=yv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>E1){const f=b1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yv(),{heartbeatsToSend:s,unsentEntries:o}=A1(this._heartbeatsCache.heartbeats),u=Wc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Gi.warn(n),""}}}function yv(){return new Date().toISOString().substring(0,10)}function A1(r,e=v1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_v(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_v(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class S1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _v(r){return Wc(JSON.stringify({version:2,heartbeats:r})).length}function b1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){Ga(new xs("platform-logger",e=>new LR(e),"PRIVATE")),Ga(new xs("heartbeat",e=>new T1(e),"PRIVATE")),Vr(cm,mv,r),Vr(cm,mv,"esm2017"),Vr("fire-js","")}w1("");var R1="firebase",I1="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(R1,I1,"app");function Qm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function p0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C1=p0,g0=new Ql("auth","Firebase",p0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Fm("@firebase/auth");function D1(r,...e){Jc.logLevel<=xe.WARN&&Jc.warn(`Auth (${no}): ${r}`,...e)}function Lc(r,...e){Jc.logLevel<=xe.ERROR&&Jc.error(`Auth (${no}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r,...e){throw Ym(r,...e)}function oi(r,...e){return Ym(r,...e)}function y0(r,e,n){const s=Object.assign(Object.assign({},C1()),{[e]:n});return new Ql("auth","Firebase",s).create(e,{appName:r.name})}function Hi(r){return y0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return g0.create(r,...e)}function ve(r,e,...n){if(!r)throw Ym(e,...n)}function Bi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Lc(e),new Error(e)}function Ki(r,e){r||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function O1(){return vv()==="http:"||vv()==="https:"}function vv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O1()||sR()||"connection"in navigator)?navigator.onLine:!0}function M1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=nR()||aR()}get(){return N1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,e){Ki(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P1=new $l(3e4,6e4);function Fr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Gr(r,e,n,s,o={}){return v0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Yl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return rR()||(y.referrerPolicy="no-referrer"),_0.fetch()(await E0(r,r.config.apiHost,n,m),y)})}async function v0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},x1),e);try{const o=new L1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Dc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Dc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw y0(r,E,y);Bn(r,E)}}catch(o){if(o instanceof $i)throw o;Bn(r,"network-request-failed",{message:String(o)})}}async function Xl(r,e,n,s,o={}){const u=await Gr(r,e,n,s,o);return"mfaPendingCredential"in u&&Bn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function E0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?$m(r.config,o):`${r.config.apiScheme}://${o}`;return V1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function k1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),P1.get())})}}function Dc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=oi(r,e,s);return o.customData._tokenResponse=n,o}function Ev(r){return r!==void 0&&r.enterprise!==void 0}class U1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function z1(r,e){return Gr(r,"GET","/v2/recaptchaConfig",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(r,e){return Gr(r,"POST","/v1/accounts:delete",e)}async function eh(r,e){return Gr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j1(r,e=!1){const n=Xt(r),s=await n.getIdToken(e),o=Xm(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Dl(Jd(o.auth_time)),issuedAtTime:Dl(Jd(o.iat)),expirationTime:Dl(Jd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Jd(r){return Number(r)*1e3}function Xm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=s0(n);return o?JSON.parse(o):(Lc("Failed to decode base64 JWT payload"),null)}catch(o){return Lc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Tv(r){const e=Xm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof $i&&q1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function q1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(r){var e;const n=r.auth,s=await r.getIdToken(),o=await kl(r,eh(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?T0(u.providerUserInfo):[],m=G1(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new mm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function F1(r){const e=Xt(r);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function T0(r){return r.map(e=>{var{providerId:n}=e,s=Qm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(r,e){const n=await v0(r,{},async()=>{const s=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await E0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",_0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q1(r,e){return Gr(r,"POST","/v2/accounts:revokeToken",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Tv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await K1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ba;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ln{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new mm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await kl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j1(this,e)}reload(){return F1(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ln(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await kl(this,B1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:de,isAnonymous:he,providerData:we,stsTokenManager:M}=n;ve(te&&M,e,"internal-error");const b=Ba.fromJSON(this.name,M);ve(typeof te=="string",e,"internal-error"),wr(S,e.name),wr(R,e.name),ve(typeof de=="boolean",e,"internal-error"),ve(typeof he=="boolean",e,"internal-error"),wr(P,e.name),wr(k,e.name),wr(Y,e.name),wr(H,e.name),wr($,e.name),wr(re,e.name);const w=new Ln({uid:te,auth:e,email:R,emailVerified:de,displayName:S,isAnonymous:he,photoURL:k,phoneNumber:P,tenantId:Y,stsTokenManager:b,createdAt:$,lastLoginAt:re});return we&&Array.isArray(we)&&(w.providerData=we.map(O=>Object.assign({},O))),H&&(w._redirectEventId=H),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ba;o.updateFromServerResponse(n);const u=new Ln({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await th(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?T0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ba;m.updateFromIdToken(s);const p=new Ln({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;function ji(r){Ki(r instanceof Function,"Expected a class definition");let e=Av.get(r);return e?(Ki(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Av.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A0.type="NONE";const Sv=A0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r,e,n){return`firebase:${r}:${e}:${n}`}class ja{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Uc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await eh(this.auth,{idToken:e}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,e):null}return Ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ja(ji(Sv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ji(Sv);const f=Uc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const R=await eh(e,{idToken:E}).catch(()=>{});if(!R)break;S=await Ln._fromGetAccountInfoResponse(e,R,E)}else S=Ln._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ja(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ja(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C0(e))return"Blackberry";if(D0(e))return"Webos";if(b0(e))return"Safari";if((e.includes("chrome/")||w0(e))&&!e.includes("edge/"))return"Chrome";if(I0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function S0(r=$t()){return/firefox\//i.test(r)}function b0(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w0(r=$t()){return/crios\//i.test(r)}function R0(r=$t()){return/iemobile/i.test(r)}function I0(r=$t()){return/android/i.test(r)}function C0(r=$t()){return/blackberry/i.test(r)}function D0(r=$t()){return/webos/i.test(r)}function Wm(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Y1(r=$t()){var e;return Wm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $1(){return oR()&&document.documentMode===10}function O0(r=$t()){return Wm(r)||I0(r)||D0(r)||C0(r)||/windows phone/i.test(r)||R0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,e=[]){let n;switch(r){case"Browser":n=bv($t());break;case"Worker":n=`${bv($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(r,e={}){return Gr(r,"GET","/v2/passwordPolicy",Fr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=6;class J1{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:Z1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wv(this),this.idTokenSubscription=new wv(this),this.beforeStateQueue=new X1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eh(this,{idToken:e}),s=await Ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Hi(this));const n=e?Xt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W1(this),n=new J1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Q1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ji(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&D1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Us(r){return Xt(r)}class wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=pR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tI(r){Eh=r}function M0(r){return Eh.loadJS(r)}function nI(){return Eh.recaptchaEnterpriseScript}function iI(){return Eh.gapiScript}function rI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class sI{constructor(){this.enterprise=new aI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const oI="recaptcha-enterprise",x0="NO_RECAPTCHA";class lI{constructor(e){this.type=oI,this.auth=Us(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{z1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new U1(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Ev(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(x0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Ev(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=nI();p.length!==0&&(p+=m),M0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Rv(r,e,n,s=!1,o=!1){const u=new lI(r);let f;if(o)f=x0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Rv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Rv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r,e){const n=Km(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ms(u,e??{}))return o;Bn(o,"already-initialized")}return n.initialize({options:e})}function cI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ji);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function hI(r,e,n){const s=Us(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=V0(e),{host:f,port:m}=fI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ms(y,s.config.emulator)&&Ms(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,dI()}function V0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function fI(r){const e=V0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Iv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Iv(f)}}}function Iv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,n){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function mI(r,e){return Gr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e){return Xl(r,"POST","/v1/accounts:signInWithPassword",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(r,e){return Xl(r,"POST","/v1/accounts:signInWithEmailLink",Fr(r,e))}async function yI(r,e){return Xl(r,"POST","/v1/accounts:signInWithEmailLink",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Zm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ll(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(e,n,"signInWithPassword",pI);case"emailLink":return gI(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(e,s,"signUpPassword",mI);case"emailLink":return yI(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(r,e){return Xl(r,"POST","/v1/accounts:signInWithIdp",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="http://localhost";class Vs extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Qm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Vs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return qa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,qa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qa(e,n)}buildRequest(){const e={requestUri:_I,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EI(r){const e=Sl(bl(r)).link,n=e?Sl(bl(e)).deep_link_id:null,s=Sl(bl(r)).deep_link_id;return(s?Sl(bl(s)).link:null)||s||n||e||r}class Jm{constructor(e){var n,s,o,u,f,m;const p=Sl(bl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=vI((o=p.mode)!==null&&o!==void 0?o:null);ve(y&&E&&S,"argument-error"),this.apiKey=y,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=EI(e);try{return new Jm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Jm.parseLink(n);return ve(s,"argument-error"),Ll._fromEmailAndCode(e,s.code,s.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends P0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Wl{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ir.credential(n,s)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Wl{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Wl{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,e){return Xl(r,"POST","/v1/accounts:signUp",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ln._fromIdTokenResponse(e,s,o),f=Cv(s);return new Ps({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Cv(s);return new Ps({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Cv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends $i{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new nh(e,n,s,o)}}function k0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,u,e,s):u})}async function AI(r,e,n=!1){const s=await kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ps._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,e,n=!1){const{auth:s}=r;if(Dn(s.app))return Promise.reject(Hi(s));const o="reauthenticate";try{const u=await kl(r,k0(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Xm(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Ps._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0(r,e,n=!1){if(Dn(r.app))return Promise.reject(Hi(r));const s="signIn",o=await k0(r,s,e),u=await Ps._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function bI(r,e){return L0(Us(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(r){const e=Us(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wI(r,e,n){if(Dn(r.app))return Promise.reject(Hi(r));const s=Us(r),f=await pm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&U0(r),p}),m=await Ps._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function RI(r,e,n){return Dn(r.app)?Promise.reject(Hi(r)):bI(Xt(r),io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&U0(r),s})}function II(r,e,n,s){return Xt(r).onIdTokenChanged(e,n,s)}function CI(r,e,n){return Xt(r).beforeAuthStateChanged(e,n)}function DI(r,e,n,s){return Xt(r).onAuthStateChanged(e,n,s)}function OI(r){return Xt(r).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1e3,MI=10;class B0 extends z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);$1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B0.type="LOCAL";const xI=B0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}j0.type="SESSION";const q0=j0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Th(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await VI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=ep("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function kI(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function LI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zI(){return H0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebaseLocalStorageDb",BI=1,rh="firebaseLocalStorage",G0="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ah(r,e){return r.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function jI(){const r=indexedDB.deleteDatabase(F0);return new Zl(r).toPromise()}function gm(){const r=indexedDB.open(F0,BI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rh,{keyPath:G0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rh)?e(s):(s.close(),await jI(),e(await gm()))})})}async function Dv(r,e,n){const s=Ah(r,!0).put({[G0]:e,value:n});return new Zl(s).toPromise()}async function qI(r,e){const n=Ah(r,!1).get(e),s=await new Zl(n).toPromise();return s===void 0?null:s.value}function Ov(r,e){const n=Ah(r,!0).delete(e);return new Zl(n).toPromise()}const HI=800,FI=3;class K0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>FI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(zI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LI(),!this.activeServiceWorker)return;this.sender=new PI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gm();return await Dv(e,ih,"1"),await Ov(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>qI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ov(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ah(o,!1).getAll();return new Zl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K0.type="LOCAL";const GI=K0;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r,e){return e?ji(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QI(r){return L0(r.auth,new tp(r),r.bypassAuthState)}function YI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),SI(n,new tp(r),r.bypassAuthState)}async function $I(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),AI(n,new tp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QI;case"linkViaPopup":case"linkViaRedirect":return $I;case"reauthViaPopup":case"reauthViaRedirect":return YI;default:Bn(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new $l(2e3,1e4);class za extends Q0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XI.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="pendingRedirect",zc=new Map;class ZI extends Q0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const s=await JI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JI(r,e){const n=nC(e),s=tC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function eC(r,e){zc.set(r._key(),e)}function tC(r){return ji(r._redirectPersistence)}function nC(r){return Uc(WI,r.config.apiKey,r.name)}async function iC(r,e,n=!1){if(Dn(r.app))return Promise.reject(Hi(r));const s=Us(r),o=KI(s,e),f=await new ZI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=10*60*1e3;class sC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Y0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(e))}saveEventToCache(e){this.cachedEventUids.add(Nv(e)),this.lastProcessedEventTime=Date.now()}}function Nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Y0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(r,e={}){return Gr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uC=/^https?/;async function cC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await oC(r);for(const n of e)try{if(hC(n))return}catch{}Bn(r,"unauthorized-domain")}function hC(r){const e=dm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!uC.test(n))return!1;if(lC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new $l(3e4,6e4);function Mv(){const r=li().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function dC(r){return new Promise((e,n)=>{var s,o,u;function f(){Mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mv(),n(oi(r,"network-request-failed"))},timeout:fC.get()})}if(!((o=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=li().gapi)===null||u===void 0)&&u.load)f();else{const m=rI("iframefcb");return li()[m]=()=>{gapi.load?f():n(oi(r,"network-request-failed"))},M0(`${iI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function mC(r){return Bc=Bc||dC(r),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new $l(5e3,15e3),gC="__/auth/iframe",yC="emulator/auth/iframe",_C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?$m(e,yC):`https://${r.config.authDomain}/${gC}`,s={apiKey:e.apiKey,appName:r.name,v:no},o=vC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Yl(s).slice(1)}`}async function TC(r){const e=await mC(r),n=li().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:EC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_C,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=oi(r,"network-request-failed"),m=li().setTimeout(()=>{u(f)},pC.get());function p(){li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SC=500,bC=600,wC="_blank",RC="http://localhost";class xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IC(r,e,n,s=SC,o=bC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},AC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=$t().toLowerCase();n&&(m=w0(y)?wC:n),S0(y)&&(e=e||RC,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[P,k])=>`${R}${P}=${k},`,"");if(Y1(y)&&m!=="_self")return CC(e||"",m),new xv(null);const S=window.open(e||"",m,E);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new xv(S)}function CC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="__/auth/handler",OC="emulator/auth/handler",NC=encodeURIComponent("fac");async function Vv(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:no,eventId:o};if(e instanceof P0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",mR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Wl){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${NC}=${encodeURIComponent(p)}`:"";return`${MC(r)}?${Yl(m).slice(1)}${y}`}function MC({config:r}){return r.emulator?$m(r,OC):`https://${r.authDomain}/${DC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="webStorageSupport";class xC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q0,this._completeRedirectFn=iC,this._overrideRedirectResult=eC}async _openPopup(e,n,s,o){var u;Ki((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Vv(e,n,s,dm(),o);return IC(e,f,ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Vv(e,n,s,dm(),o);return kI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ki(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await TC(e),s=new sC(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[em];f!==void 0&&n(!!f),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O0()||b0()||Wm()}}const VC=xC;var Pv="@firebase/auth",kv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(r){Ga(new xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N0(r)},y=new eI(s,o,u,p);return cI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ga(new xs("auth-internal",e=>{const n=Us(e.getProvider("auth").getImmediate());return(s=>new PC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(Pv,kv,kC(r)),Vr(Pv,kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=5*60,zC=l0("authIdTokenMaxAge")||UC;let Lv=null;const BC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zC)return;const o=n==null?void 0:n.token;Lv!==o&&(Lv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jC(r=f0()){const e=Km(r,"auth");if(e.isInitialized())return e.getImmediate();const n=uI(r,{popupRedirectResolver:VC,persistence:[GI,xI,q0]}),s=l0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=BC(u.toString());CI(n,f,()=>f(n.currentUser)),II(n,m=>f(m))}}const o=a0("auth");return o&&hI(n,`http://${o}`),n}function qC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}tI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,$0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function w(){}w.prototype=b.prototype,M.D=b.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(O,x,L){for(var C=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)C[Vt-2]=arguments[Vt];return b.prototype[x].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,w){w||(w=0);var O=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)O[x]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(x=0;16>x;++x)O[x]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=M.g[0],w=M.g[1],x=M.g[2];var L=M.g[3],C=b+(L^w&(x^L))+O[0]+3614090360&4294967295;b=w+(C<<7&4294967295|C>>>25),C=L+(x^b&(w^x))+O[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=x+(w^L&(b^w))+O[2]+606105819&4294967295,x=L+(C<<17&4294967295|C>>>15),C=w+(b^x&(L^b))+O[3]+3250441966&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(L^w&(x^L))+O[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(x^b&(w^x))+O[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=x+(w^L&(b^w))+O[6]+2821735955&4294967295,x=L+(C<<17&4294967295|C>>>15),C=w+(b^x&(L^b))+O[7]+4249261313&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(L^w&(x^L))+O[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(x^b&(w^x))+O[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=x+(w^L&(b^w))+O[10]+4294925233&4294967295,x=L+(C<<17&4294967295|C>>>15),C=w+(b^x&(L^b))+O[11]+2304563134&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(L^w&(x^L))+O[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(x^b&(w^x))+O[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=x+(w^L&(b^w))+O[14]+2792965006&4294967295,x=L+(C<<17&4294967295|C>>>15),C=w+(b^x&(L^b))+O[15]+1236535329&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(x^L&(w^x))+O[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^x&(b^w))+O[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(L^b))+O[11]+643717713&4294967295,x=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(x^L))+O[0]+3921069994&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(x^L&(w^x))+O[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^x&(b^w))+O[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(L^b))+O[15]+3634488961&4294967295,x=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(x^L))+O[4]+3889429448&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(x^L&(w^x))+O[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^x&(b^w))+O[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(L^b))+O[3]+4107603335&4294967295,x=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(x^L))+O[8]+1163531501&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(x^L&(w^x))+O[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^x&(b^w))+O[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(L^b))+O[7]+1735328473&4294967295,x=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(x^L))+O[12]+2368359562&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(w^x^L)+O[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^x)+O[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=x+(L^b^w)+O[11]+1839030562&4294967295,x=L+(C<<16&4294967295|C>>>16),C=w+(x^L^b)+O[14]+4259657740&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(w^x^L)+O[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^x)+O[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=x+(L^b^w)+O[7]+4139469664&4294967295,x=L+(C<<16&4294967295|C>>>16),C=w+(x^L^b)+O[10]+3200236656&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(w^x^L)+O[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^x)+O[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=x+(L^b^w)+O[3]+3572445317&4294967295,x=L+(C<<16&4294967295|C>>>16),C=w+(x^L^b)+O[6]+76029189&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(w^x^L)+O[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^x)+O[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=x+(L^b^w)+O[15]+530742520&4294967295,x=L+(C<<16&4294967295|C>>>16),C=w+(x^L^b)+O[2]+3299628645&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(x^(w|~L))+O[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~x))+O[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=x+(b^(L|~w))+O[14]+2878612391&4294967295,x=L+(C<<15&4294967295|C>>>17),C=w+(L^(x|~b))+O[5]+4237533241&4294967295,w=x+(C<<21&4294967295|C>>>11),C=b+(x^(w|~L))+O[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~x))+O[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=x+(b^(L|~w))+O[10]+4293915773&4294967295,x=L+(C<<15&4294967295|C>>>17),C=w+(L^(x|~b))+O[1]+2240044497&4294967295,w=x+(C<<21&4294967295|C>>>11),C=b+(x^(w|~L))+O[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~x))+O[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=x+(b^(L|~w))+O[6]+2734768916&4294967295,x=L+(C<<15&4294967295|C>>>17),C=w+(L^(x|~b))+O[13]+1309151649&4294967295,w=x+(C<<21&4294967295|C>>>11),C=b+(x^(w|~L))+O[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~x))+O[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=x+(b^(L|~w))+O[2]+718787259&4294967295,x=L+(C<<15&4294967295|C>>>17),C=w+(L^(x|~b))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var w=b-this.blockSize,O=this.B,x=this.h,L=0;L<b;){if(x==0)for(;L<=w;)o(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<b;)if(O[x++]=M.charCodeAt(L++),x==this.blockSize){o(this,O),x=0;break}}else for(;L<b;)if(O[x++]=M[L++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var w=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=w&255,w/=256;for(this.u(M),M=Array(16),b=w=0;4>b;++b)for(var O=0;32>O;O+=8)M[w++]=this.g[b]>>>O&255;return M};function u(M,b){var w=m;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=b(M)}function f(M,b){this.h=b;for(var w=[],O=!0,x=M.length-1;0<=x;x--){var L=M[x]|0;O&&L==b||(w[x]=L,O=!1)}this.g=w}var m={};function p(M){return-128<=M&&128>M?u(M,function(b){return new f([b|0],0>b?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return H(y(-M));for(var b=[],w=1,O=0;M>=w;O++)b[O]=M/w|0,w*=4294967296;return new f(b,0)}function E(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return H(E(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(b,8)),O=S,x=0;x<M.length;x+=8){var L=Math.min(8,M.length-x),C=parseInt(M.substring(x,x+L),b);8>L?(L=y(Math.pow(b,L)),O=O.j(L).add(y(C))):(O=O.j(w),O=O.add(y(C)))}return O}var S=p(0),R=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-H(this).m();for(var M=0,b=1,w=0;w<this.g.length;w++){var O=this.i(w);M+=(0<=O?O:4294967296+O)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(Y(this))return"-"+H(this).toString(M);for(var b=y(Math.pow(M,6)),w=this,O="";;){var x=de(w,b).g;w=$(w,x.j(b));var L=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=x,k(w))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function Y(M){return M.h==-1}r.l=function(M){return M=$(this,M),Y(M)?-1:k(M)?0:1};function H(M){for(var b=M.g.length,w=[],O=0;O<b;O++)w[O]=~M.g[O];return new f(w,~M.h).add(R)}r.abs=function(){return Y(this)?H(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0,x=0;x<=b;x++){var L=O+(this.i(x)&65535)+(M.i(x)&65535),C=(L>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);O=C>>>16,L&=65535,C&=65535,w[x]=C<<16|L}return new f(w,w[w.length-1]&-2147483648?-1:0)};function $(M,b){return M.add(H(b))}r.j=function(M){if(k(this)||k(M))return S;if(Y(this))return Y(M)?H(this).j(H(M)):H(H(this).j(M));if(Y(M))return H(this.j(H(M)));if(0>this.l(P)&&0>M.l(P))return y(this.m()*M.m());for(var b=this.g.length+M.g.length,w=[],O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<M.g.length;x++){var L=this.i(O)>>>16,C=this.i(O)&65535,Vt=M.i(x)>>>16,at=M.i(x)&65535;w[2*O+2*x]+=C*at,re(w,2*O+2*x),w[2*O+2*x+1]+=L*at,re(w,2*O+2*x+1),w[2*O+2*x+1]+=C*Vt,re(w,2*O+2*x+1),w[2*O+2*x+2]+=L*Vt,re(w,2*O+2*x+2)}for(O=0;O<b;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=b;O<2*b;O++)w[O]=0;return new f(w,0)};function re(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function te(M,b){this.g=M,this.h=b}function de(M,b){if(k(b))throw Error("division by zero");if(k(M))return new te(S,S);if(Y(M))return b=de(H(M),b),new te(H(b.g),H(b.h));if(Y(b))return b=de(M,H(b)),new te(H(b.g),b.h);if(30<M.g.length){if(Y(M)||Y(b))throw Error("slowDivide_ only works with positive integers.");for(var w=R,O=b;0>=O.l(M);)w=he(w),O=he(O);var x=we(w,1),L=we(O,1);for(O=we(O,2),w=we(w,2);!k(O);){var C=L.add(O);0>=C.l(M)&&(x=x.add(w),L=C),O=we(O,1),w=we(w,1)}return b=$(M,x.j(b)),new te(x,b)}for(x=S;0<=M.l(b);){for(w=Math.max(1,Math.floor(M.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=y(w),C=L.j(b);Y(C)||0<C.l(M);)w-=O,L=y(w),C=L.j(b);k(L)&&(L=R),x=x.add(L),M=$(M,C)}return new te(x,M)}r.A=function(M){return de(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)&M.i(O);return new f(w,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)|M.i(O);return new f(w,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)^M.i(O);return new f(w,this.h^M.h)};function he(M){for(var b=M.g.length+1,w=[],O=0;O<b;O++)w[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(w,M.h)}function we(M,b){var w=b>>5;b%=32;for(var O=M.g.length-w,x=[],L=0;L<O;L++)x[L]=0<b?M.i(L+w)>>>b|M.i(L+w+1)<<32-b:M.i(L+w);return new f(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Pr=f}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X0,wl,W0,jc,ym,Z0,J0,eT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break e;_=_[U]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var F=_++;return{value:g(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function R(c,g,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function k(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,F){for(var ie=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ie[Pe-2]=arguments[Pe];return g.prototype[U].apply(A,ie)}}function Y(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function H(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=c.length||0,F=A.length||0;c.length=U+F;for(let ie=0;ie<F;ie++)c[U+ie]=A[ie]}else c.push(A)}}class ${constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var he=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function we(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function M(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function b(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let F=0;F<w.length;F++)_=w[F],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function x(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Be;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Vt{constructor(){this.h=this.g=null}add(g,_){const A=at.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var at=new $(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,me=!1,Be=new Vt,D=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){L(_)}var g=at;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function De(c,g){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(he){e:{try{de(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}k(De,ne);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Hn(c,g,_,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=U,this.key=++Ze,this.da=this.fa=!1}function Xi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mi(c){this.src=c,this.g={},this.h=0}mi.prototype.add=function(c,g,_,A,U){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ie=Qr(c,g,A,U);return-1<ie?(g=c[ie],_||(g.fa=!1)):(g=new Hn(g,this.src,F,!!A,U),g.fa=_,c.push(g)),g};function Kr(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,g,void 0),F;(F=0<=U)&&Array.prototype.splice.call(A,U,1),F&&(Xi(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Qr(c,g,_,A){for(var U=0;U<c.length;++U){var F=c[U];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==A)return U}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),uo={};function ru(c,g,_,A,U){if(Array.isArray(g)){for(var F=0;F<g.length;F++)ru(c,g[F],_,A,U);return null}return _=su(_),c&&c[It]?c.K(g,_,y(A)?!!A.capture:!1,U):gn(c,g,_,!1,A,U)}function gn(c,g,_,A,U,F){if(!g)throw Error("Invalid event type");var ie=y(U)?!!U.capture:!!U,Pe=Fs(c);if(Pe||(c[Yr]=Pe=new mi(c)),_=Pe.add(g,_,A,ie,F),_.proxy)return _;if(A=Uh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ge||(U=ie),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent($r(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Uh(){function c(_){return g.call(c.src,c.listener,_)}const g=zh;return c}function co(c,g,_,A,U){if(Array.isArray(g))for(var F=0;F<g.length;F++)co(c,g[F],_,A,U);else A=y(A)?!!A.capture:!!A,_=su(_),c&&c[It]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],_=Qr(F,_,A,U),-1<_&&(Xi(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=Fs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Qr(g,_,A,U)),(_=-1<c?g[c]:null)&&Hs(_))}function Hs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[It])Kr(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent($r(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Fs(g))?(Kr(_,c),_.h==0&&(_.src=null,g[Yr]=null)):Xi(c)}}}function $r(c){return c in uo?uo[c]:uo[c]="on"+c}function zh(c,g){if(c.da)c=!0;else{g=new De(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&Hs(c),c=_.call(A,g)}return c}function Fs(c){return c=c[Yr],c instanceof mi?c:null}var ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(c){return typeof c=="function"?c:(c[ho]||(c[ho]=function(g){return c.handleEvent(g)}),c[ho])}function ot(){ae.call(this),this.i=new mi(this),this.M=this,this.F=null}k(ot,ae),ot.prototype[It]=!0,ot.prototype.removeEventListener=function(c,g,_,A){co(this,c,g,_,A)};function Fe(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new ne(g,c);else if(g instanceof ne)g.target=g.target||c;else{var U=g;g=new ne(A,c),O(g,U)}if(U=!0,_)for(var F=_.length-1;0<=F;F--){var ie=g.g=_[F];U=an(ie,A,!0,g)&&U}if(ie=g.g=c,U=an(ie,A,!0,g)&&U,U=an(ie,A,!1,g)&&U,_)for(F=0;F<_.length;F++)ie=g.g=_[F],U=an(ie,A,!1,g)&&U}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Xi(_[A]);delete c.g[g],c.h--}}this.F=null},ot.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},ot.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function an(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,F=0;F<g.length;++F){var ie=g[F];if(ie&&!ie.da&&ie.capture==_){var Pe=ie.listener,Tt=ie.ha||ie.src;ie.fa&&Kr(c.i,ie),U=Pe.call(Tt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ht(c,g,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function au(c){c.g=Ht(()=>{c.g=null,c.i&&(c.i=!1,au(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Bh extends ae{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){ae.call(this),this.h=c,this.g={}}k(Xr,ae);var Wr=[];function Zr(c){we(c.g,function(g,_){this.g.hasOwnProperty(_)&&Hs(g)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=m.JSON.stringify,Gs=m.JSON.parse,Jr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function fo(){}fo.prototype.h=null;function mo(c){return c.h||(c.h=c.i())}function po(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){ne.call(this,"d")}k(gi,ne);function go(){ne.call(this,"c")}k(go,ne);var Fn={},yo=null;function Wi(){return yo=yo||new ot}Fn.La="serverreachability";function Ks(c){ne.call(this,Fn.La,c)}k(Ks,ne);function Zi(c){const g=Wi();Fe(g,new Ks(g))}Fn.STAT_EVENT="statevent";function ou(c,g){ne.call(this,Fn.STAT_EVENT,c),this.stat=g}k(ou,ne);function tt(c){const g=Wi();Fe(g,new ou(g,c))}Fn.Ma="timingevent";function Et(c,g){ne.call(this,Fn.Ma,c),this.size=g}k(Et,ne);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function _o(c,g,_,A,U,F){c.info(function(){if(c.g)if(F)for(var ie="",Pe=F.split("&"),Tt=0;Tt<Pe.length;Tt++){var ke=Pe[Tt].split("=");if(1<ke.length){var Dt=ke[0];ke=ke[1];var At=Dt.split("_");ie=2<=At.length&&At[1]=="type"?ie+(Dt+"="+ke+"&"):ie+(Dt+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+_+`
`+ie})}function jh(c,g,_,A,U,F,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+_+`
`+F+" "+ie})}function Ji(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+es(c,_)+(A?" "+A:"")})}function lu(c,g){c.info(function(){return"TIMEOUT: "+g})}yn.prototype.info=function(){};function es(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Nn(_)}catch{return g}}var er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Kn(){}k(Kn,fo),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Gn=new Kn;function Wt(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var vo={},Qs={};function Mn(c,g,_){c.L=1,c.v=ss(on(g)),c.m=_,c.P=!0,_i(c,null)}function _i(c,g){c.F=Date.now(),ts(c),c.A=on(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),wo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ct,c.g=bu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Bh(R(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Wr[0]=U.toString()),U=Wr);for(var F=0;F<U.length;F++){var ie=ru(_,U[F],A||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Zi(),_o(c.i,c.u,c.A,c.l,c.R,c.m)}Wt.prototype.ca=function(c){c=c.target;const g=this.M;g&&Tn(c)==3?g.j():this.Y(c)},Wt.prototype.Y=function(c){try{if(c==this.g)e:{const At=Tn(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||At!=4||g==7||(g==8||0>=Ri?Zi(3):Zi(2)),tr(this);var _=this.g.Z();this.X=_;t:if(uu(this)){var A=gu(this.g);c="";var U=A.length,F=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Qn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(F&&g==U-1)});A.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,jh(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Tt=this.g;if((Pe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)Ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ns(this,_);else{this.o=!1,this.s=3,tt(12),Pt(this),Qn(this);break e}}if(this.P){_=!0;let kt;for(;!this.J&&this.C<ie.length;)if(kt=cu(this,ie),kt==Qs){At==4&&(this.s=4,tt(14),_=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==vo){this.s=4,tt(15),Ji(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Ji(this.i,this.l,kt,null),ns(this,kt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ie.length!=0||this.h.h||(this.s=1,tt(16),_=!1),this.o=this.o&&_,!_)Ji(this.i,this.l,ie,"[Invalid Chunked Response]"),Pt(this),Qn(this);else if(0<ie.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ds(Dt),Dt.M=!0,tt(11))}}else Ji(this.i,this.l,ie,null),ns(this,ie);At==4&&Pt(this),this.o&&!this.J&&(At==4?Tu(this.j,this):(this.o=!1,ts(this)))}else Kh(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Pt(this),Qn(this)}}}catch{}finally{}};function uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cu(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?Qs:(_=Number(g.substring(_,A)),isNaN(_)?vo:(A+=1,A+_>g.length?Qs:(g=g.slice(A,A+_),c.C=A+_,g)))}Wt.prototype.cancel=function(){this.J=!0,Pt(this)};function ts(c){c.S=Date.now()+c.I,hu(c,c.I)}function hu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(R(c.ba,c),g)}function tr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(lu(this.i,this.A),this.L!=2&&(Zi(),tt(17)),Pt(this),this.s=2,Qn(this)):hu(this,this.S-c)};function Qn(c){c.j.G==0||c.J||Tu(c.j,c)}function Pt(c){tr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Zr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ns(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Eo(_.h,c))){if(!c.K&&Eo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)sa(_),ia(_);else break e;Oo(_),tt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(R(_.Za,_),6e3));if(1>=$s(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((c.K||_.g==c)&&sa(_),!re(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let ke=U[g];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Dt=ke[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const At=ke[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Ri=ke[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const kt=c.g;if(kt){const ei=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var F=A.h;F.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Xs(F,F.h),F.h=null))}if(A.D){const Mo=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(A.ya=Mo,Qe(A.I,A.D,Mo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ie=c;if(A.qa=Su(A,A.J?A.ia:null,A.W),ie.K){Zt(A.h,ie);var Pe=ie,Tt=A.L;Tt&&(Pe.I=Tt),Pe.B&&(tr(Pe),ts(Pe)),A.g=ie}else vu(A);0<_.i.length&&ra(_)}else ke[0]!="stop"&&ke[0]!="close"||wi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?wi(_,7):Co(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}Zi(4)}catch{}}var fu=class{constructor(c,g){this.g=c,this.map=g}};function vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ys(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $s(c){return c.h?1:c.g?c.g.size:0}function Eo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Xs(c,g){c.g?c.g.add(g):c.h=g}function Zt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}vi.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function To(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Y(c.i)}function qh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function Ws(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function Ao(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ws(c),A=qh(c),U=A.length,F=0;F<U;F++)g.call(void 0,A[F],_&&_[F],c)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var F=c[_].substring(0,A);U=c[_].substring(A+1)}else F=c[_];g(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,rs(this,c.j),this.o=c.o,this.g=c.g,nr(this,c.s),this.l=c.l;var g=c.i,_=new Ti;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ei(this,_),this.m=c.m}else c&&(g=String(c).match(is))?(this.h=!1,rs(this,g[1]||"",!0),this.o=_n(g[2]||""),this.g=_n(g[3]||"",!0),nr(this,g[4]),this.l=_n(g[5]||"",!0),Ei(this,g[6]||"",!0),this.m=_n(g[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}pt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(as(g,So,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(as(g,So,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(as(_,_.charAt(0)=="/"?Fh:bo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",as(_,Zs)),c.join("")};function on(c){return new pt(c)}function rs(c,g,_){c.j=_?_n(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function nr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ei(c,g,_){g instanceof Ti?(c.i=g,mu(c.i,c.h)):(_||(g=as(g,Gh)),c.i=new Ti(g,c.h))}function Qe(c,g,_){c.i.set(g,_)}function ss(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _n(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function as(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var So=/[#\/\?@]/g,bo=/[#\?:]/g,Fh=/[#\?]/g,Gh=/[#\?@]/g,Zs=/#/g;function Ti(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Ti.prototype,r.add=function(c,g){vn(this),this.i=null,c=Yn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ai(c,g){vn(c),g=Yn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Si(c,g){return vn(c),g=Yn(c,g),c.g.has(g)}r.forEach=function(c,g){vn(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(g,U,A,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const U=c[A];for(let F=0;F<U.length;F++)_.push(g[A])}return _},r.V=function(c){vn(this);let g=[];if(typeof c=="string")Si(this,c)&&(g=g.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return vn(this),this.i=null,c=Yn(this,c),Si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function wo(c,g,_){Ai(c,g),0<_.length&&(c.i=null,c.g.set(Yn(c,g),Y(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const F=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var U=F;ie[A]!==""&&(U+="="+encodeURIComponent(String(ie[A]))),c.push(U)}}return this.i=c.join("&")};function Yn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function mu(c,g){g&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ai(this,A),wo(this,U,_))},c)),c.j=g}function os(c,g){const _=new yn;if(m.Image){const A=new Image;A.onload=P(En,_,"TestLoadImage: loaded",!0,g,A),A.onerror=P(En,_,"TestLoadImage: error",!1,g,A),A.onabort=P(En,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(En,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function xn(c,g){const _=new yn,A=new AbortController,U=setTimeout(()=>{A.abort(),En(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?En(_,"TestPingServer: ok",!0,g):En(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),En(_,"TestPingServer: error",!1,g)})}function En(c,g,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ls(){this.g=new Jr}function $n(c,g,_){const A=_||"";try{Ao(c,function(U,F){let ie=U;y(U)&&(ie=Nn(U)),g.push(A+F+"="+encodeURIComponent(ie))})}catch(U){throw g.push(A+"type="+encodeURIComponent("_badmap")),U}}function ir(c){this.l=c.Ub||null,this.j=c.eb||!1}k(ir,fo),ir.prototype.g=function(){return new bi(this.l,this.j)},ir.prototype.i=function(c){return function(){return c}}({});function bi(c,g){ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(bi,ot),r=bi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ro(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ro(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Xn(this):Wn(this),this.readyState==3&&Ro(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},r.Qa=function(c){this.g&&(this.response=c,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Io(c){let g="";return we(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ct(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Io(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,g,_))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(qe,ot);var Js=/^https?$/i,us=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?mo(this.o):mo(Gn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){pu(this,F);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(us,g,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of _)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){pu(this,F)}};function pu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ea(c),Zn(c)}function ea(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},r.bb=function(){ta(this)};function ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)Ht(c.Ea,0,c);else if(Fe(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=ie===0){var U=String(c.D).match(is)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!Js.test(U?U.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var F=2<Tn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ea(c)}}finally{Zn(c)}}}}function Zn(c,g){if(c.g){cs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function cs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Gs(g)}};function gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Kh(c){const g={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(re(c[A]))continue;var _=x(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[U]||[];g[U]=F,F.push(_)}M(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function na(c){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,c),this.cb=hs("retryDelaySeedMs",1e4,c),this.Wa=hs("forwardChannelMaxRetries",2,c),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(c&&c.concurrentRequestLimit),this.Da=new ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=na.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){tt(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Su(this,null,this.W),ra(this)};function Co(c){if(yu(c),c.G==3){var g=c.U++,_=on(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",g),Qe(_,"TYPE","terminate"),fs(c,_),g=new Wt(c,c.j,g),g.L=2,g.v=ss(on(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=bu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ts(g)}Au(c)}function ia(c){c.g&&(ds(c),c.g.cancel(),c.g=null)}function yu(c){ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ra(c){if(!Ys(c.h)&&!c.s){c.s=!0;var g=c.Ga;se||D(),me||(se(),me=!0),Be.add(g,c),c.B=0}}function Qh(c,g){return $s(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(R(c.Ga,c,g),No(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Wt(this,this.j,c);let F=this.o;if(this.S&&(F?(F=b(F),O(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=_u(this,U,g),_=on(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),fs(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(Io(F)))+"&"+g:this.m&&Ct(_,this.m,F)),Xs(this.h,U),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",g),Qe(_,"SID","null"),U.T=!0,Mn(U,_,null)):Mn(U,_,g),this.G=2}}else this.G==3&&(c?Do(this,c):this.i.length==0||Ys(this.h)||Do(this))};function Do(c,g){var _;g?_=g.l:_=c.U++;const A=on(c.I);Qe(A,"SID",c.K),Qe(A,"RID",_),Qe(A,"AID",c.T),fs(c,A),c.m&&c.o&&Ct(A,c.m,c.o),_=new Wt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=_u(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xs(c.h,_),Mn(_,A,g)}function fs(c,g){c.H&&we(c.H,function(_,A){Qe(g,A,_)}),c.l&&Ao({},function(_,A){Qe(g,A,_)})}function _u(c,g,_){_=Math.min(c.i.length,_);var A=c.l?R(c.l.Na,c.l,c):null;e:{var U=c.i;let F=-1;for(;;){const ie=["count="+_];F==-1?0<_?(F=U[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let Pe=!0;for(let Tt=0;Tt<_;Tt++){let ke=U[Tt].g;const Dt=U[Tt].map;if(ke-=F,0>ke)F=Math.max(0,U[Tt].g-100),Pe=!1;else try{$n(Dt,ie,"req"+ke+"_")}catch{A&&A(Dt)}}if(Pe){A=ie.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function vu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;se||D(),me||(se(),me=!0),Be.add(g,c),c.v=0}}function Oo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(R(c.Fa,c),No(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ia(this),Eu(this))};function ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Eu(c){c.g=new Wt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=on(c.qa);Qe(g,"RID","rpc"),Qe(g,"SID",c.K),Qe(g,"AID",c.T),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(g,"TO",c.ja),Qe(g,"TYPE","xmlhttp"),fs(c,g),c.m&&c.o&&Ct(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ss(on(g)),_.m=null,_.P=!0,_i(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ia(this),Oo(this),tt(19))};function sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Tu(c,g){var _=null;if(c.g==g){sa(c),ds(c),c.g=null;var A=2}else if(Eo(c.h,g))_=g.D,Zt(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;A=Wi(),Fe(A,new Et(A,_)),ra(c)}else vu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(A==1&&Qh(c,g)||A==2&&Oo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function No(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function wi(c,g){if(c.j.info("Error code "+g),g==2){var _=R(c.fb,c),A=c.Xa;const U=!A;A=new pt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||rs(A,"https"),ss(A),U?os(A.toString(),_):xn(A.toString(),_)}else tt(2);c.G=0,c.l&&c.l.sa(g),Au(c),yu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Au(c){if(c.G=0,c.ka=[],c.l){const g=To(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ka,g),H(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Su(c,g,_){var A=_ instanceof pt?on(_):new pt(_);if(A.g!="")g&&(A.g=g+"."+A.g),nr(A,A.s);else{var U=m.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var F=new pt(null);A&&rs(F,A),g&&(F.g=g),U&&nr(F,U),_&&(F.l=_),A=F}return _=c.D,g=c.ya,_&&g&&Qe(A,_,g),Qe(A,"VER",c.la),fs(c,A),A}function bu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new qe(new ir({eb:_})):new qe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function aa(){}aa.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){ot.call(this),this.g=new na(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jn(this)}k(Jt,ot),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Co(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Nn(c),c=_);g.i.push(new fu(g.Ya++,c)),g.G==3&&ra(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,Jt.aa.N.call(this)};function Ru(c){gi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}k(Ru,gi);function Iu(){go.call(this),this.status=1}k(Iu,go);function Jn(c){this.g=c}k(Jn,wu),Jn.prototype.ua=function(){Fe(this.g,"a")},Jn.prototype.ta=function(c){Fe(this.g,new Ru(c))},Jn.prototype.sa=function(c){Fe(this.g,new Iu)},Jn.prototype.ra=function(){Fe(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,eT=function(){return new aa},J0=function(){return Wi()},Z0=Fn,ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,jc=er,yi.COMPLETE="complete",W0=yi,po.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,wl=po,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,X0=qe}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const zv="@firebase/firestore",Bv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Fm("@firebase/firestore");function Pa(){return ks.logLevel}function le(r,...e){if(ks.logLevel<=xe.DEBUG){const n=e.map(np);ks.debug(`Firestore (${ro}): ${r}`,...n)}}function Qi(r,...e){if(ks.logLevel<=xe.ERROR){const n=e.map(np);ks.error(`Firestore (${ro}): ${r}`,...n)}}function Ka(r,...e){if(ks.logLevel<=xe.WARN){const n=e.map(np);ks.warn(`Firestore (${ro}): ${r}`,...n)}}function np(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+r;throw Qi(e),new Error(e)}function He(r,e){r||Te()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ns,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ns)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string"),new tT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Qt(e)}}class KC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class QC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new KC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Dn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){He(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$C(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function _m(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=nT(),f=XC(u.encode(qv(r,n)),u.encode(qv(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function qv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function XC(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function Qa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=-62135596800,Fv=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Fv);return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hv)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new wt(0,0))}static max(){return new Se(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="__name__";class ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=ai.isNumericId(e),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(n)):_m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}}class et extends ai{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const WC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ai{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return WC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new jt([Gv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function ZC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new Lr(o,pe.empty(),e)}function JC(r){return new Lr(r.readTime,r.key,Ul)}class Lr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(Se.min(),pe.empty(),Ul)}static max(){return new Lr(Se.max(),pe.empty(),Ul)}}function e2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==t2)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function i2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Sh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=-1;function bh(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function r2(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="";function s2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Kv(e)),e=a2(r.get(n),e);return Kv(e)}function a2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case rT:n+="";break;default:n+=u}}return n}function Kv(r){return r+rT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function zs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function sT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Rt(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aT("Invalid base64 string: "+u):u}}(e);return new qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const o2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(r){if(He(!!r),typeof r=="string"){let e=0;const n=o2.exec(r);if(He(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zr(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function rp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lT])===null||n===void 0?void 0:n.stringValue)===oT}function wh(r){const e=r.mapValue.fields[uT];return rp(e)?wh(e):e}function zl(r){const e=Ur(r.mapValue.fields[cT].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const ah="(default)";class Bl{constructor(e,n){this.projectId=e,this.database=n||ah}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__type__",u2="__max__",Mc={mapValue:{}},fT="__vector__",oh="value";function Br(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rp(r)?4:h2(r)?9007199254740991:c2(r)?10:11:Te()}function fi(r,e){if(r===e)return!0;const n=Br(r);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zl(r).isEqual(zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ur(o.timestampValue),m=Ur(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return zr(o.bytesValue).isEqual(zr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?sh(f)===sh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Qa(r.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Qv(f)!==Qv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!fi(f[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function jl(r,e){return(r.values||[]).find(n=>fi(n,e))!==void 0}function Ya(r,e){if(r===e)return 0;const n=Br(r),s=Br(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return $v(r.timestampValue,e.timestampValue);case 4:return $v(zl(r),zl(e));case 5:return _m(r.stringValue,e.stringValue);case 6:return function(u,f){const m=zr(u),p=zr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ce(m[y],p[y]);if(E!==0)return E}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(dt(u.latitude),dt(f.latitude));return m!==0?m:Ce(dt(u.longitude),dt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Xv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const S=u.fields||{},R=f.fields||{},P=(m=S[oh])===null||m===void 0?void 0:m.arrayValue,k=(p=R[oh])===null||p===void 0?void 0:p.arrayValue,Y=Ce(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:Xv(P,k)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Mc.mapValue&&f===Mc.mapValue)return 0;if(u===Mc.mapValue)return 1;if(f===Mc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=_m(p[S],E[S]);if(R!==0)return R;const P=Ya(m[p[S]],y[E[S]]);if(P!==0)return P}return Ce(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function $v(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=Ur(r),s=Ur(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function Xv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ya(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function $a(r){return vm(r)}function vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return zr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=vm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${vm(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function qc(r){switch(Br(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+qc(e):16;case 5:return 2*r.stringValue.length;case 6:return zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+qc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return zs(s.fields,(u,f)=>{o+=u.length+qc(f)}),o}(r.mapValue);default:throw Te()}}function Wv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Em(r){return!!r&&"integerValue"in r}function sp(r){return!!r&&"arrayValue"in r}function Zv(r){return!!r&&"nullValue"in r}function Jv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hc(r){return!!r&&"mapValue"in r}function c2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[hT])===null||n===void 0?void 0:n.stringValue)===fT}function Ol(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return zs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ol(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(r.arrayValue.values[n]);return e}return Object.assign({},r)}function h2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===u2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=jt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ol(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){zs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new On(Ol(this.value))}}function dT(r){const e=[];return zs(r.fields,(n,s)=>{const o=new jt([n]);if(Hc(s)){const u=dT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Se.min(),Se.min(),Se.min(),On.empty(),0)}static newFoundDocument(e,n,s,o){return new Yt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Yt(e,2,n,Se.min(),Se.min(),On.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Se.min(),Se.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function eE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=Ya(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function tE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!fi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function f2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{}class vt extends mT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new m2(e,n,s):n==="array-contains"?new y2(e,s):n==="in"?new _2(e,s):n==="not-in"?new v2(e,s):n==="array-contains-any"?new E2(e,s):new vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new p2(e,s):new g2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ya(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends mT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new jn(e,n)}matches(e){return pT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function pT(r){return r.op==="and"}function gT(r){return d2(r)&&pT(r)}function d2(r){for(const e of r.filters)if(e instanceof jn)return!1;return!0}function Tm(r){if(r instanceof vt)return r.field.canonicalString()+r.op.toString()+$a(r.value);if(gT(r))return r.filters.map(e=>Tm(e)).join(",");{const e=r.filters.map(n=>Tm(n)).join(",");return`${r.op}(${e})`}}function yT(r,e){return r instanceof vt?function(s,o){return o instanceof vt&&s.op===o.op&&s.field.isEqual(o.field)&&fi(s.value,o.value)}(r,e):r instanceof jn?function(s,o){return o instanceof jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&yT(f,o.filters[m]),!0):!1}(r,e):void Te()}function _T(r){return r instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(r):r instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(_T).join(" ,")+"}"}(r):"Filter"}class m2 extends vt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class p2 extends vt{constructor(e,n){super(e,"in",n),this.keys=vT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class g2 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=vT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class y2 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sp(n)&&jl(n.arrayValue,this.value)}}class _2 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class v2 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jl(this.value.arrayValue,n)}}class E2 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function nE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new T2(r,e,n,s,o,u,f)}function ap(r){const e=be(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Tm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$a(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$a(s)).join(",")),e.le=n}return e.le}function op(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!f2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!yT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!tE(r.startAt,e.startAt)&&tE(r.endAt,e.endAt)}function Am(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function A2(r,e,n,s,o,u,f,m){return new Jl(r,e,n,s,o,u,f,m)}function lp(r){return new Jl(r)}function iE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ET(r){return r.collectionGroup!==null}function Nl(r){const e=be(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(jt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new uh(u,s))}),n.has(jt.keyField().canonicalString())||e.he.push(new uh(jt.keyField(),s))}return e.he}function ui(r){const e=be(r);return e.Pe||(e.Pe=S2(e,Nl(r))),e.Pe}function S2(r,e){if(r.limitType==="F")return nE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new uh(o.field,u)});const n=r.endAt?new lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new lh(r.startAt.position,r.startAt.inclusive):null;return nE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Sm(r,e){const n=r.filters.concat([e]);return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function bm(r,e,n){return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Rh(r,e){return op(ui(r),ui(e))&&r.limitType===e.limitType}function TT(r){return`${ap(ui(r))}|lt:${r.limitType}`}function ka(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>_T(o)).join(", ")}]`),bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>$a(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>$a(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function Ih(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Nl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=eE(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Nl(s),o)||s.endAt&&!function(f,m,p){const y=eE(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Nl(s),o))}(r,e)}function b2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AT(r){return(e,n)=>{let s=!1;for(const o of Nl(r)){const u=w2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function w2(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ya(p,y):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return sT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new st(pe.comparator);function Yi(){return R2}const ST=new st(pe.comparator);function Rl(...r){let e=ST;for(const n of r)e=e.insert(n.key,n);return e}function bT(r){let e=ST;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Os(){return Ml()}function wT(){return Ml()}function Ml(){return new Bs(r=>r.toString(),(r,e)=>r.isEqual(e))}const I2=new st(pe.comparator),C2=new Rt(pe.comparator);function Ve(...r){let e=C2;for(const n of r)e=e.add(n);return e}const D2=new Rt(Ce);function O2(){return D2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function RT(r){return{integerValue:""+r}}function N2(r,e){return r2(e)?RT(e):up(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function M2(r,e,n){return r instanceof ch?function(o,u){const f={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rp(u)&&(u=wh(u)),u&&(f.fields[uT]=u),{mapValue:f}}(n,e):r instanceof ql?CT(r,e):r instanceof Hl?DT(r,e):function(o,u){const f=IT(o,u),m=rE(f)+rE(o.Ie);return Em(f)&&Em(o.Ie)?RT(m):up(o.serializer,m)}(r,e)}function x2(r,e,n){return r instanceof ql?CT(r,e):r instanceof Hl?DT(r,e):n}function IT(r,e){return r instanceof hh?function(s){return Em(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ch extends Ch{}class ql extends Ch{constructor(e){super(),this.elements=e}}function CT(r,e){const n=OT(e);for(const s of r.elements)n.some(o=>fi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Hl extends Ch{constructor(e){super(),this.elements=e}}function DT(r,e){let n=OT(e);for(const s of r.elements)n=n.filter(o=>!fi(o,s));return{arrayValue:{values:n}}}class hh extends Ch{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function rE(r){return dt(r.integerValue||r.doubleValue)}function OT(r){return sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function V2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ql&&o instanceof ql||s instanceof Hl&&o instanceof Hl?Qa(s.elements,o.elements,fi):s instanceof hh&&o instanceof hh?fi(s.Ie,o.Ie):s instanceof ch&&o instanceof ch}(r.transform,e.transform)}class P2{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dh{}function NT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new cp(r.key,ci.none()):new eu(r.key,r.data,ci.none());{const n=r.data,s=On.empty();let o=new Rt(jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new js(r.key,s,new Un(o.toArray()),ci.none())}}function k2(r,e,n){r instanceof eu?function(o,u,f){const m=o.value.clone(),p=aE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof js?function(o,u,f){if(!Fc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=aE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(MT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function xl(r,e,n,s){return r instanceof eu?function(u,f,m,p){if(!Fc(u.precondition,f))return m;const y=u.value.clone(),E=oE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof js?function(u,f,m,p){if(!Fc(u.precondition,f))return m;const y=oE(u.fieldTransforms,p,f),E=f.data;return E.setAll(MT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return Fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function L2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=IT(s.transform,o||null);u!=null&&(n===null&&(n=On.empty()),n.set(s.field,u))}return n||null}function sE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Qa(s,o,(u,f)=>V2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends Dh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends Dh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function MT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function aE(r,e,n){const s=new Map;He(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,x2(f,m,n[o]))}return s}function oE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,M2(u,f,e))}return s}class cp extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U2 extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&k2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=NT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,s)=>sE(n,s))&&Qa(this.baseMutations,e.baseMutations,(n,s)=>sE(n,s))}}class hp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length);let o=function(){return I2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new hp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function q2(r){switch(r){case J.OK:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te()}}function xT(r){if(r===void 0)return Qi("GRPC error has no .code"),J.UNKNOWN;switch(r){case _t.OK:return J.OK;case _t.CANCELLED:return J.CANCELLED;case _t.UNKNOWN:return J.UNKNOWN;case _t.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case _t.INTERNAL:return J.INTERNAL;case _t.UNAVAILABLE:return J.UNAVAILABLE;case _t.UNAUTHENTICATED:return J.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case _t.NOT_FOUND:return J.NOT_FOUND;case _t.ALREADY_EXISTS:return J.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return J.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case _t.ABORTED:return J.ABORTED;case _t.OUT_OF_RANGE:return J.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return J.UNIMPLEMENTED;case _t.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Pr([4294967295,4294967295],0);function lE(r){const e=nT().encode(r),n=new $0;return n.update(e),new Uint8Array(n.digest())}function uE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Pr([n,s],0),new Pr([o,u],0)]}class fp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Pr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Pr.fromNumber(s)));return o.compare(H2)===1&&(o=new Pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=lE(e),[s,o]=uE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new fp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=lE(e),[s,o]=uE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Oh(Se.min(),o,new st(Ce),Yi(),Ve())}}class tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new tu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class VT{constructor(e,n){this.targetId=e,this.ge=n}}class PT{constructor(e,n,s=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class cE{constructor(){this.pe=0,this.ye=hE(),this.we=qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new tu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=hE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,He(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class F2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Yi(),this.$e=xc(),this.Ue=xc(),this.Ke=new st(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Am(u))if(s===0){const f=new pe(u.path);this.ze(n,f,Yt.newNoDocument(f,Se.min()))}else He(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=zr(s).toUint8Array()}catch(p){if(p instanceof aT)return Ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new fp(f,o,u)}catch(p){return Ka(p instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Am(m.target)){const p=new pe(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Yt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Oh(e,n,this.Ke,this.Qe,s);return this.Qe=Yi(),this.$e=xc(),this.Ue=xc(),this.Ke=new st(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new cE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function xc(){return new st(pe.comparator)}function hE(){return new st(pe.comparator)}const G2={asc:"ASCENDING",desc:"DESCENDING"},K2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q2={and:"AND",or:"OR"};class Y2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wm(r,e){return r.useProto3Json||bh(e)?e:{value:e}}function fh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $2(r,e){return fh(r,e.toTimestamp())}function hi(r){return He(!!r),Se.fromTimestamp(function(n){const s=Ur(n);return new wt(s.seconds,s.nanos)}(r))}function dp(r,e){return Rm(r,e).canonicalString()}function Rm(r,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function LT(r){const e=et.fromString(r);return He(qT(e)),e}function Im(r,e){return dp(r.databaseId,e.path)}function tm(r,e){const n=LT(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(zT(n))}function UT(r,e){return dp(r.databaseId,e)}function X2(r){const e=LT(r);return e.length===4?et.emptyPath():zT(e)}function Cm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zT(r){return He(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function fE(r,e,n){return{name:Im(r,e),fields:n.value.mapValue.fields}}function W2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(He(E===void 0||typeof E=="string"),qt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array),qt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?J.UNKNOWN:xT(y.code);return new ce(E,y.message||"")}(f);n=new PT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=tm(r,s.document.name),u=hi(s.document.updateTime),f=s.document.createTime?hi(s.document.createTime):Se.min(),m=new On({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Gc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=tm(r,s.document),u=s.readTime?hi(s.readTime):Se.min(),f=Yt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Gc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=tm(r,s.document),u=s.removedTargetIds||[];n=new Gc([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new j2(o,u),m=s.targetId;n=new VT(m,f)}}return n}function Z2(r,e){let n;if(e instanceof eu)n={update:fE(r,e.key,e.value)};else if(e instanceof cp)n={delete:Im(r,e.key)};else if(e instanceof js)n={update:fE(r,e.key,e.data),updateMask:oD(e.fieldMask)};else{if(!(e instanceof U2))return Te();n={verify:Im(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ch)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function J2(r,e){return r&&r.length>0?(He(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?hi(o.updateTime):hi(u);return f.isEqual(Se.min())&&(f=hi(u)),new P2(f,o.transformResults||[])}(n,e))):[]}function eD(r,e){return{documents:[UT(r,e.path)]}}function tD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=UT(r,o);const u=function(y){if(y.length!==0)return jT(jn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:La(R.field),direction:rD(R.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=wm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function nD(r){let e=X2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const R=BT(S);return R instanceof jn&&gT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(R=>function(k){return new uh(Ua(k.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,bh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(S){const R=!!S.before,P=S.values||[];return new lh(P,R)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const R=!S.before,P=S.values||[];return new lh(P,R)}(n.endAt)),A2(e,o,f,u,m,"F",p,y)}function iD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(n.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ua(n.unaryFilter.field);return vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return vt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return vt.create(Ua(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(s=>BT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function rD(r){return G2[r]}function sD(r){return K2[r]}function aD(r){return Q2[r]}function La(r){return{fieldPath:r.canonicalString()}}function Ua(r){return jt.fromServerFormat(r.fieldPath)}function jT(r){return r instanceof vt?function(n){if(n.op==="=="){if(Jv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(Zv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(Zv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:sD(n.op),value:n.value}}}(r):r instanceof jn?function(n){const s=n.getFilters().map(o=>jT(o));return s.length===1?s[0]:{compositeFilter:{op:aD(n.op),filters:s}}}(r):Te()}function oD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.Tt=e}}function uD(r){const e=nD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.Tn=new hD}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Lr.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class hD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Rt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(HT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Xa(0)}static Kn(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="LruGarbageCollector",fD=1048576;function pE([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class dD{constructor(e){this.Hn=e,this.buffer=new Rt(pE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(mE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?le(mE,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.er(3e5)})}}class pD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Sh.ae);const s=new dD(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(dE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),Pa()<=xe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function gD(r,e){return new pD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.changes=new Bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&xl(s.mutation,o,Un.empty(),wt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Os();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Rl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Os();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Yi();const f=Ml(),m=function(){return Ml()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof js)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),xl(E.mutation,y,E.mutation.getFieldMask(),wt.now())):f.set(y.key,Un.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var S;return m.set(y,new _D(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ml();let o=new st((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Un.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=wT();E.forEach(R=>{if(!u.has(R)){const P=NT(n.get(R),s.get(R));P!==null&&S.set(R,P),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ET(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Os());let m=Ul,p=u;return f.next(y=>Z.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ve())).next(E=>({batchId:m,changes:bT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=Rl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,p=>{const y=function(S,R){return new Jl(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,R)=>{f=f.insert(S,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=Rl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&xl(E.mutation,y,Un.empty(),wt.now()),Ih(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:uD(o.bundledQuery),readTime:hi(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.overlays=new st(pe.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Os();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Os(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Os(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Os(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return Z.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new B2(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.Vr=new Rt(xt.mr),this.gr=new Rt(xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new xt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new xt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new pe(new et([])),s=new xt(n,e),o=new xt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new pe(new et([])),s=new xt(n,e),o=new xt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new xt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class xt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return pe.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(xt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new z2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ip:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new xt(n,0),o=new xt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Ce);return n.forEach(o=>{const u=new xt(o,0),f=new xt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new xt(new pe(u),0);let m=new Rt(Ce);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new xt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new xt(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.kr=e,this.docs=function(){return new st(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=Yi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Yi();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||e2(JC(E),s)<=0||(o.has(E.key)||Ih(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new wD(this)}getSize(e){return Z.resolve(this.size)}}class wD extends yD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.persistence=e,this.Qr=new Bs(n=>ap(n),op),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new mp,this.targetCount=0,this.Kr=Xa.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Xa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Sh(0),this.zr=!1,this.zr=!0,this.jr=new AD,this.referenceDelegate=e(this),this.Hr=new RD(this),this.indexManager=new cD,this.remoteDocumentCache=function(o){return new bD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new lD(n),this.Yr=new ED(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new SD(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new ID(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class ID extends n2{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.ti=new mp,this.ni=null}static ri(e){return new pp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=pe.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.oi=new Bs(s=>s2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=gD(this,n)}static ri(e,n){return new dh(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qc(e.data.value)),n}ar(e,n,s){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lR()?8:i2($t())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new CD;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Pa()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Pa()<=xe.DEBUG&&le("QueryEngine","Query:",ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Pa()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):Z.resolve())}rs(e,n){if(iE(n))return Z.resolve(null);let s=ui(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=bm(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,bm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return iE(n)||o.isEqual(Se.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):(Pa()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ka(n)),this.hs(e,f,n,ZC(o,Ul)).next(m=>m))})}cs(e,n){let s=new Rt(AT(e));return n.forEach((o,u)=>{Ih(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Pa()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ka(n)),this.ns.getDocumentsMatchingQuery(e,n,Lr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="LocalStore",OD=3e8;class ND{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(Ce),this.Is=new Bs(u=>ap(u),op),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function MD(r,e,n,s){return new ND(r,e,n,s)}async function GT(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function xD(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,R=S.keys();let P=Z.resolve();return R.forEach(k=>{P=P.next(()=>E.getEntry(p,k)).next(Y=>{const H=y.docVersions.get(k);He(H!==null),Y.version.compareTo(H)<0&&(S.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function KT(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function VD(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let P=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),function(Y,H,$){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=OD?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(R,P,E)&&m.push(n.Hr.updateTargetData(u,P))});let p=Yi(),y=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(PD(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Se.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function PD(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Yi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(yp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function kD(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function LD(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Or(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Dm(r,e,n){const s=be(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ao(f))throw f;le(yp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function gE(r,e,n){const s=be(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const S=be(p),R=S.Is.get(E);return R!==void 0?Z.resolve(S.Ts.get(R)):S.Hr.getTargetData(y,E)}(s,f,ui(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve())).next(m=>(UD(s,b2(e),m),{documents:m,gs:u})))}function UD(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class yE{constructor(){this.activeTargetIds=O2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zD{constructor(){this.ho=new yE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="ConnectivityMonitor";class vE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(_E,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(_E,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function Om(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",jD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Om(),m=this.bo(e,n.toUriEncodedString());le(nm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(le(nm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Ka(nm,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=jD[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class FD extends qD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Om();return new Promise((f,m)=>{const p=new X0;p.setWithCredentials(!0),p.listenOnce(W0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case jc.NO_ERROR:const E=p.getResponseJson();le(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case jc.TIMEOUT:le(Kt,`RPC '${e}' ${u} timed out`),m(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const S=p.getStatus();if(le(Kt,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R==null?void 0:R.error;if(P&&P.status&&P.message){const k=function(H){const $=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(P.status);m(new ce(k,P.message))}else m(new ce(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le(Kt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);le(Kt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=Om(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=eT(),m=J0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Kt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let R=!1,P=!1;const k=new HD({Fo:H=>{P?le(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(R||(le(Kt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),le(Kt,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Mo:()=>S.close()}),Y=(H,$,re)=>{H.listen($,te=>{try{re(te)}catch(de){setTimeout(()=>{throw de},0)}})};return Y(S,wl.EventType.OPEN,()=>{P||(le(Kt,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),Y(S,wl.EventType.CLOSE,()=>{P||(P=!0,le(Kt,`RPC '${e}' stream ${o} transport closed`),k.Uo())}),Y(S,wl.EventType.ERROR,H=>{P||(P=!0,Ka(Kt,`RPC '${e}' stream ${o} transport errored:`,H),k.Uo(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),Y(S,wl.EventType.MESSAGE,H=>{var $;if(!P){const re=H.data[0];He(!!re);const te=re,de=(te==null?void 0:te.error)||(($=te[0])===null||$===void 0?void 0:$.error);if(de){le(Kt,`RPC '${e}' stream ${o} received error:`,de);const he=de.status;let we=function(w){const O=_t[w];if(O!==void 0)return xT(O)}(he),M=de.message;we===void 0&&(we=J.INTERNAL,M="Unknown error status: "+he+" with message "+de.message),P=!0,k.Uo(new ce(we,M)),S.close()}else le(Kt,`RPC '${e}' stream ${o} received:`,re),k.Ko(re)}}),Y(m,Z0.STAT_EVENT,H=>{H.stat===ym.PROXY?le(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===ym.NOPROXY&&le(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(r){return new Y2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class YT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new QT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ce(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(EE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GD extends YT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=W2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?hi(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Cm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Am(p)?{documents:eD(u,p)}:{query:tD(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=kT(u,f.resumeToken);const y=wm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=fh(u,f.snapshotVersion.toTimestamp());const y=wm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=iD(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.I_(n)}}class KD extends YT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=J2(e.writeResults,e.commitTime),s=hi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Cm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Z2(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{}class YD extends QD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Rm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(J.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Rm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class XD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{qs(this)&&(le(Ls,"Restarting streams for network reachability change."),await async function(p){const y=be(p);y.W_.add(4),await nu(y),y.j_.set("Unknown"),y.W_.delete(4),await Mh(y)}(this))})}),this.j_=new $D(s,o)}}async function Mh(r){if(qs(r))for(const e of r.G_)await e(!0)}async function nu(r){for(const e of r.G_)await e(!1)}function $T(r,e){const n=be(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Tp(n)?Ep(n):oo(n).c_()&&vp(n,e))}function _p(r,e){const n=be(r),s=oo(n);n.K_.delete(e),s.c_()&&XT(n,e),n.K_.size===0&&(s.c_()?s.P_():qs(n)&&n.j_.set("Unknown"))}function vp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(r).y_(e)}function XT(r,e){r.H_.Ne(e),oo(r).w_(e)}function Ep(r){r.H_=new F2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),oo(r).start(),r.j_.B_()}function Tp(r){return qs(r)&&!oo(r).u_()&&r.K_.size>0}function qs(r){return be(r).W_.size===0}function WT(r){r.H_=void 0}async function WD(r){r.j_.set("Online")}async function ZD(r){r.K_.forEach((e,n)=>{vp(r,e)})}async function JD(r,e){WT(r),Tp(r)?(r.j_.q_(e),Ep(r)):r.j_.set("Unknown")}async function eO(r,e,n){if(r.j_.set("Online"),e instanceof PT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){le(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await mh(r,s)}else if(e instanceof Gc?r.H_.We(e):e instanceof VT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await KT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(qt.EMPTY_BYTE_STRING,E.snapshotVersion)),XT(u,p);const S=new Or(E.target,p,y,E.sequenceNumber);vp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(Ls,"Failed to raise snapshot:",s),await mh(r,s)}}async function mh(r,e,n){if(!ao(e))throw e;r.W_.add(1),await nu(r),r.j_.set("Offline"),n||(n=()=>KT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Ls,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Mh(r)})}function ZT(r,e){return e().catch(n=>mh(r,n,e))}async function xh(r){const e=be(r),n=jr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:ip;for(;tO(e);)try{const o=await kD(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,nO(e,o)}catch(o){await mh(e,o)}JT(e)&&eA(e)}function tO(r){return qs(r)&&r.U_.length<10}function nO(r,e){r.U_.push(e);const n=jr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function JT(r){return qs(r)&&!jr(r).u_()&&r.U_.length>0}function eA(r){jr(r).start()}async function iO(r){jr(r).C_()}async function rO(r){const e=jr(r);for(const n of r.U_)e.b_(n.mutations)}async function sO(r,e,n){const s=r.U_.shift(),o=hp.from(s,e,n);await ZT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await xh(r)}async function aO(r,e){e&&jr(r).S_&&await async function(s,o){if(function(f){return q2(f)&&f!==J.ABORTED}(o.code)){const u=s.U_.shift();jr(s).h_(),await ZT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await xh(s)}}(r,e),JT(r)&&eA(r)}async function TE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),le(Ls,"RemoteStore received new credentials");const s=qs(n);n.W_.add(3),await nu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Mh(n)}async function oO(r,e){const n=be(r);e?(n.W_.delete(2),await Mh(n)):e||(n.W_.add(2),await nu(n),n.j_.set("Unknown"))}function oo(r){return r.J_||(r.J_=function(n,s,o){const u=be(n);return u.M_(),new GD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:WD.bind(null,r),No:ZD.bind(null,r),Lo:JD.bind(null,r),p_:eO.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Tp(r)?Ep(r):r.j_.set("Unknown")):(await r.J_.stop(),WT(r))})),r.J_}function jr(r){return r.Y_||(r.Y_=function(n,s,o){const u=be(n);return u.M_(),new KD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:iO.bind(null,r),Lo:aO.bind(null,r),D_:rO.bind(null,r),v_:sO.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await xh(r)):(await r.Y_.stop(),r.U_.length>0&&(le(Ls,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ap(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(r,e){if(Qi("AsyncQueue",`${e}: ${r}`),ao(r))return new ce(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(e){return new Ha(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ha;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.Z_=new st(pe.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Wa{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Wa(e,n,Ha.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uO{constructor(){this.queries=SE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=SE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function SE(){return new Bs(r=>TT(r),Rh)}async function cO(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new lO,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Sp(f,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&bp(n)}async function hO(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fO(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&bp(n)}function dO(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function bp(r){r.ia.forEach(e=>{e.next()})}var Nm,bE;(bE=Nm||(Nm={}))._a="default",bE.Cache="cache";class mO{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Wa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Nm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.key=e}}class nA{constructor(e){this.key=e}}class pO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=AT(e),this.wa=new Ha(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new AE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const R=o.get(E),P=Ih(this.query,S)?S:null,k=!!R&&this.mutatedKeys.has(R.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let H=!1;R&&P?R.data.isEqual(P.data)?k!==Y&&(s.track({type:3,doc:P}),H=!0):this.va(R,P)||(s.track({type:2,doc:P}),H=!0,(p&&this.ya(P,p)>0||y&&this.ya(P,y)<0)&&(m=!0)):!R&&P?(s.track({type:0,doc:P}),H=!0):R&&!P&&(s.track({type:1,doc:R}),H=!0,(p||y)&&(m=!0)),H&&(P?(f=f.add(P),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(P,k){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return Y(P)-Y(k)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Wa(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new AE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new nA(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new tA(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Wa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wp="SyncEngine";class gO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yO{constructor(e){this.key=e,this.Ba=!1}}class _O{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Bs(m=>TT(m),Rh),this.qa=new Map,this.Qa=new Set,this.$a=new st(pe.comparator),this.Ua=new Map,this.Ka=new mp,this.Wa={},this.Ga=new Map,this.za=Xa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function vO(r,e,n=!0){const s=lA(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await iA(s,e,n,!0),o}async function EO(r,e){const n=lA(r);await iA(n,e,!0,!1)}async function iA(r,e,n,s){const o=await LD(r.localStore,ui(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await TO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&$T(r.remoteStore,o),m}async function TO(r,e,n,s,o){r.Ha=(S,R,P)=>async function(Y,H,$,re){let te=H.view.ba($);te.ls&&(te=await gE(Y.localStore,H.query,!1).then(({documents:M})=>H.view.ba(M,te)));const de=re&&re.targetChanges.get(H.targetId),he=re&&re.targetMismatches.get(H.targetId)!=null,we=H.view.applyChanges(te,Y.isPrimaryClient,de,he);return RE(Y,H.targetId,we.Ma),we.snapshot}(r,S,R,P);const u=await gE(r.localStore,e,!0),f=new pO(e,u.gs),m=f.ba(u.documents),p=tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);RE(r,n,y.Ma);const E=new gO(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function AO(r,e,n){const s=be(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Rh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&_p(s.remoteStore,o.targetId),Mm(s,o.targetId)}).catch(so)):(Mm(s,o.targetId),await Dm(s.localStore,o.targetId,!0))}async function SO(r,e){const n=be(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_p(n.remoteStore,s.targetId))}async function bO(r,e,n){const s=NO(r);try{const o=await function(f,m){const p=be(f),y=wt.now(),E=m.reduce((P,k)=>P.add(k.key),Ve());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let k=Yi(),Y=Ve();return p.ds.getEntries(P,E).next(H=>{k=H,k.forEach(($,re)=>{re.isValidDocument()||(Y=Y.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,k)).next(H=>{S=H;const $=[];for(const re of m){const te=L2(re,S.get(re.key).overlayedDocument);te!=null&&$.push(new js(re.key,te,dT(te.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,$,m)}).next(H=>{R=H;const $=H.applyToLocalDocumentSet(S,Y);return p.documentOverlayCache.saveOverlays(P,H.batchId,$)})}).then(()=>({batchId:R.batchId,changes:bT(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new st(Ce)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await iu(s,o.changes),await xh(s.remoteStore)}catch(o){const u=Sp(o,"Failed to persist write");n.reject(u)}}async function rA(r,e){const n=be(r);try{const s=await VD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?He(f.Ba):o.removedDocuments.size>0&&(He(f.Ba),f.Ba=!1))}),await iu(n,s,e)}catch(s){await so(s)}}function wE(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=be(f);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const R of S.ta)R.sa(m)&&(y=!0)}),y&&bp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wO(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new st(pe.comparator);f=f.insert(u,Yt.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new Oh(Se.min(),new Map,new st(Ce),f,m);await rA(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Rp(s)}else await Dm(s.localStore,e,!1).then(()=>Mm(s,e,n)).catch(so)}async function RO(r,e){const n=be(r),s=e.batch.batchId;try{const o=await xD(n.localStore,e);aA(n,s,null),sA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await iu(n,o)}catch(o){await so(o)}}async function IO(r,e,n){const s=be(r);try{const o=await function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(He(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);aA(s,e,n),sA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await iu(s,o)}catch(o){await so(o)}}function sA(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function aA(r,e,n){const s=be(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Mm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||oA(r,s)})}function oA(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(_p(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Rp(r))}function RE(r,e,n){for(const s of n)s instanceof tA?(r.Ka.addReference(s.key,e),CO(r,s)):s instanceof nA?(le(wp,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||oA(r,s.key)):Te()}function CO(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(le(wp,"New document in limbo: "+n),r.Qa.add(s),Rp(r))}function Rp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new pe(et.fromString(e)),s=r.za.next();r.Ua.set(s,new yO(n)),r.$a=r.$a.insert(n,s),$T(r.remoteStore,new Or(ui(lp(n.path)),s,"TargetPurposeLimboResolution",Sh.ae))}}async function iu(r,e,n){const s=be(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=gp.Yi(p.targetId,y);u.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(y,R=>Z.forEach(R.Hi,P=>E.persistence.referenceDelegate.addReference(S,R.targetId,P)).next(()=>Z.forEach(R.Ji,P=>E.persistence.referenceDelegate.removeReference(S,R.targetId,P)))))}catch(S){if(!ao(S))throw S;le(yp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const P=E.Ts.get(R),k=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(R,Y)}}}(s.localStore,u))}async function DO(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){le(wp,"User change. New user:",e.toKey());const s=await GT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ce(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await iu(n,s.Rs)}}function OO(r,e){const n=be(r),s=n.Ua.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function lA(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wO.bind(null,e),e.La.p_=fO.bind(null,e.eventManager),e.La.Ja=dO.bind(null,e.eventManager),e}function NO(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IO.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return MD(this.persistence,new DD,e.initialUser,this.serializer)}Xa(e){return new FT(pp.ri,this.serializer)}Za(e){return new zD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class MO extends ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){He(this.persistence.referenceDelegate instanceof dh);const s=this.persistence.referenceDelegate.garbageCollector;return new mD(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new FT(s=>dh.ri(s,n),this.serializer)}}class xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uO}()}createDatastore(e){const n=Nh(e.databaseInfo.databaseId),s=function(u){return new FD(u)}(e.databaseInfo);return function(u,f,m,p){return new YD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new XD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>wE(this.syncEngine,n,0),function(){return vE.D()?new vE:new BD}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const S=new _O(o,u,f,m,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=be(o);le(Ls,"RemoteStore shutting down."),u.W_.add(5),await nu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="FirestoreClient";class VO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=iT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(qr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(qr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Sp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function rm(r,e){r.asyncQueue.verifyOperationInProgress(),le(qr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await GT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function IE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await PO(r);le(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>TE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>TE(e.remoteStore,o)),r._onlineComponents=e}async function PO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(qr,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new ph)}}else le(qr,"Using default OfflineComponentProvider"),await rm(r,new MO(void 0));return r._offlineComponents}async function uA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(qr,"Using user provided OnlineComponentProvider"),await IE(r,r._uninitializedComponentsProvider._online)):(le(qr,"Using default OnlineComponentProvider"),await IE(r,new xm))),r._onlineComponents}function kO(r){return uA(r).then(e=>e.syncEngine)}async function CE(r){const e=await uA(r),n=e.eventManager;return n.onListen=vO.bind(null,e.syncEngine),n.onUnlisten=AO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SO.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(r,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LO(r,e,n,s){if(e===!0&&s===!0)throw new ce(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function OE(r){if(!pe.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function NE(r){if(pe.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function Fa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(r);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firestore.googleapis.com",ME=!0;class xE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fA,this.ssl=ME}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ME;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fD)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new HC;switch(s.type){case"firstParty":return new QC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=DE.get(n);s&&(le("ComponentProvider","Removing Datastore"),DE.delete(n),s.terminate())}(this),Promise.resolve()}}function UO(r,e,n,s={}){var o;const u=(r=Fa(r,Ph))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==fA&&u.host!==m&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ms(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qt.MOCK_USER;else{y=tR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qt(S)}r._authCredentials=new FC(new tT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class pn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class kr extends lo{constructor(e,n,s){super(e,n,lp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new pe(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function VE(r,e,...n){if(r=Xt(r),hA("collection","path",e),r instanceof Ph){const s=et.fromString(e,...n);return NE(s),new kr(r,null,s)}{if(!(r instanceof pn||r instanceof kr))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return NE(s),new kr(r.firestore,null,s)}}function dA(r,e,...n){if(r=Xt(r),arguments.length===1&&(e=iT.newId()),hA("doc","path",e),r instanceof Ph){const s=et.fromString(e,...n);return OE(s),new pn(r,null,new pe(s))}{if(!(r instanceof pn||r instanceof kr))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return OE(s),new pn(r.firestore,r instanceof kr?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new QT(this,"async_queue_retry"),this.Su=()=>{const s=im();s&&le(PE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ns;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ao(e))throw e;le(PE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Ap.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function LE(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Fl extends Ph{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new kE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function zO(r,e){const n=typeof r=="object"?r:f0(),s=typeof r=="string"?r:ah,o=Km(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Jw("firestore");u&&UO(o,...u)}return o}function mA(r){if(r._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||BO(r),r._firestoreClient}function BO(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new l2(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,cA(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new VO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(qt.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Za(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class qO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new eu(e,this.data,n,this.fieldTransforms)}}function gA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Op{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return gh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gA(this.Lu)&&jO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class HO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Nh(e)}ju(e,n,s,o=!1){return new Op({Lu:e,methodName:n,zu:s,path:jt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yA(r){const e=r._freezeSettings(),n=Nh(r._databaseId);return new HO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function FO(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);EA("Data must be an object, but it was:",f,s);const m=_A(s,f);let p,y;if(u.merge)p=new Un(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=KO(e,S,n);if(!f.contains(R))throw new ce(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);YO(E,R)||E.push(R)}p=new Un(E),y=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=f.fieldTransforms;return new qO(new On(m),p,y)}function GO(r,e,n,s=!1){return Np(n,r.ju(s?4:3,e))}function Np(r,e){if(vA(r=Xt(r)))return EA("Unsupported field value:",e,r),_A(r,e);if(r instanceof pA)return function(s,o){if(!gA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Np(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=wt.fromDate(s);return{timestampValue:fh(o.serializer,u)}}if(s instanceof wt){const u=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fh(o.serializer,u)}}if(s instanceof Cp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Za)return{bytesValue:kT(o.serializer,s._byteString)};if(s instanceof pn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Dp)return function(f,m){return{mapValue:{fields:{[hT]:{stringValue:fT},[oh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return up(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Vh(s)}`)}(r,e)}function _A(r,e){const n={};return sT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(r,(s,o)=>{const u=Np(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function vA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wt||r instanceof Cp||r instanceof Za||r instanceof pn||r instanceof pA||r instanceof Dp)}function EA(r,e,n){if(!vA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Vh(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function KO(r,e,n){if((e=Xt(e))instanceof Ip)return e._internalPath;if(typeof e=="string")return TA(r,e);throw gh("Field path arguments must be of type string or ",r,!1,void 0,n)}const QO=new RegExp("[~\\*/\\[\\]]");function TA(r,e,n){if(e.search(QO)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ip(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function gh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(J.INVALID_ARGUMENT,m+r+p)}function YO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $O extends AA{data(){return super.data()}}function Mp(r,e){return typeof e=="string"?TA(r,e):e instanceof Ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class WO extends xp{}function ZO(r,e,...n){let s=[];e instanceof xp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Vp).length,m=u.filter(p=>p instanceof kh).length;if(f>1||f>0&&m>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class kh extends WO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new kh(e,n,s)}_apply(e){const n=this._parse(e);return SA(e._query,n),new lo(e.firestore,e.converter,Sm(e._query,n))}_parse(e){const n=yA(e.firestore);return function(u,f,m,p,y,E,S){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){zE(S,E);const k=[];for(const Y of S)k.push(UE(p,u,Y));R={arrayValue:{values:k}}}else R=UE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||zE(S,E),R=GO(m,f,S,E==="in"||E==="not-in");return vt.create(y,E,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function JO(r,e,n){const s=e,o=Mp("where",r);return kh._create(o,s,n)}class Vp extends xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)SA(f,p),f=Sm(f,p)}(e._query,n),new lo(e.firestore,e.converter,Sm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UE(r,e,n){if(typeof(n=Xt(n))=="string"){if(n==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ET(e)&&n.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!pe.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wv(r,new pe(s))}if(n instanceof pn)return Wv(r,n._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function zE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SA(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eN{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[oh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new Dp(u)}convertGeoPoint(e){return new Cp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(qT(s));const o=new Bl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bA extends AA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Mp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Kc extends bA{data(e={}){return super.data(e)}}class nN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Kc(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Kc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Kc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:iN(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class wA extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function rN(r){return RA(Fa(r.firestore,Fl),[new cp(r._key,ci.none())])}function sN(r,e){const n=Fa(r.firestore,Fl),s=dA(r),o=tN(r.converter,e);return RA(n,[FO(yA(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ci.exists(!1))]).then(()=>s)}function aN(r,...e){var n,s,o;r=Xt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||LE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(LE(e[f])){const S=e[f];e[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,E;if(r instanceof pn)y=Fa(r.firestore,Fl),E=lp(r._key.path),p={next:S=>{e[f]&&e[f](oN(y,r,S))},error:e[f+1],complete:e[f+2]};else{const S=Fa(r,lo);y=Fa(S.firestore,Fl),E=S._query;const R=new wA(y);p={next:P=>{e[f]&&e[f](new nN(y,R,S,P))},error:e[f+1],complete:e[f+2]},XO(r._query)}return function(R,P,k,Y){const H=new xO(Y),$=new mO(P,H,k);return R.asyncQueue.enqueueAndForget(async()=>cO(await CE(R),$)),()=>{H.su(),R.asyncQueue.enqueueAndForget(async()=>hO(await CE(R),$))}}(mA(y),E,m,p)}function RA(r,e){return function(s,o){const u=new Ns;return s.asyncQueue.enqueueAndForget(async()=>bO(await kO(s),o,u)),u.promise}(mA(r),e)}function oN(r,e,n){const s=n.docs.get(e._key),o=new wA(r);return new bA(r,o,e._key,s,new Cl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ro=o})(no),Ga(new xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Fl(new GC(s.getProvider("auth-internal")),new YC(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Vr(zv,Bv,e),Vr(zv,Bv,"esm2017")})();const lN={apiKey:"AIzaSyBP-XSWE97uRmzqDS72dekNB3vHw_ZNWO4",authDomain:"notes-app-bf83e.firebaseapp.com",projectId:"notes-app-bf83e",storageBucket:"notes-app-bf83e.appspot.com",messagingSenderId:"298543919292",appId:"1:298543919292:web:your-app-id"},IA=h0(lN),Lh=jC(IA),sm=zO(IA),uN=({handleToggleDarkMode:r,user:e,darkMode:n})=>{const s=()=>{OI(Lh).catch(o=>{console.error("Error signing out:",o)})};return oe.jsxs("div",{className:`flex justify-between items-center py-4 ${n?"bg-gray-900 text-white":"bg-white text-gray-900"}`,children:[oe.jsx("h1",{className:"text-4xl font-bold",children:"Notes App"}),oe.jsxs("div",{className:"flex gap-4 items-center",children:[oe.jsx("button",{onClick:()=>r(o=>!o),className:"text-xl",title:"Toggle Dark Mode",children:n?oe.jsx(Bw,{size:24,color:"white"}):oe.jsx(zw,{size:24,color:"black"})}),e?oe.jsx("button",{onClick:s,className:"px-[10px] py-[5px] text-sm bg-[#e1e1e1] rounded-[15px] text-white hover:bg-red-600",children:"Logout"}):oe.jsxs(oe.Fragment,{children:[oe.jsx(Yc,{to:"/login",children:oe.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Login"})}),oe.jsx(Yc,{to:"/signup",children:oe.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Sign Up"})})]})]})]})},cN="/assets/github-B3LxWxcL.png";function hN(){return oe.jsx("footer",{className:"w-full flex justify-center items-center bg-teal-300 rounded-lg p-2.5 px-4 shadow-lg mt-10 mb-2",children:oe.jsxs("a",{href:"https://github.com/theanuraaag",className:"text-black no-underline flex items-center gap-1",children:[oe.jsx("img",{src:cN,alt:"GitHub",className:"w-5 h-5"}),"GitHub"]})})}function fN(){const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),f=Um(),m=async p=>{p.preventDefault();try{await RI(Lh,r,n),f("/")}catch(y){u(y.message)}};return oe.jsxs("div",{className:"flex flex-col items-center justify-center p-5 w-full max-w-md mx-auto bg-gray-100 rounded-lg shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:[oe.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Login"}),o&&oe.jsx("p",{className:"text-red-600 text-sm mb-4",children:o}),oe.jsxs("form",{onSubmit:m,className:"flex flex-col w-full gap-3",children:[oe.jsx("input",{type:"email",className:"p-2 text-sm border border-gray-300 rounded outline-none focus:border-blue-500",placeholder:"Email",onChange:p=>e(p.target.value)}),oe.jsx("input",{type:"password",className:"p-2 text-sm border border-gray-300 rounded outline-none focus:border-blue-500",placeholder:"Password",onChange:p=>s(p.target.value)}),oe.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 transition duration-300",children:"Login"})]}),oe.jsxs("p",{className:"text-sm mt-4 text-center",children:["Dont have an account?"," ",oe.jsx("a",{href:"/signup",className:"text-blue-500 hover:underline font-medium",children:"SignUp"})]})]})}function dN(){const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),f=async m=>{m.preventDefault();try{await wI(Lh,r,n)}catch(p){u(p.message)}};return oe.jsxs("div",{className:"flex flex-col items-center justify-center p-5 w-full max-w-md mx-auto bg-gray-100 rounded-lg shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:[oe.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Signup"}),o&&oe.jsx("p",{className:"text-red-600 text-sm mb-4",children:o}),oe.jsxs("form",{onSubmit:f,className:"flex flex-col w-full gap-3",children:[oe.jsx("input",{type:"email",className:"p-2 text-sm border border-gray-300 rounded outline-none focus:border-blue-500",placeholder:"Email",onChange:m=>e(m.target.value)}),oe.jsx("input",{type:"password",className:"p-2 text-sm border border-gray-300 rounded outline-none focus:border-blue-500",placeholder:"Password",onChange:m=>s(m.target.value)}),oe.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 transition duration-300",children:"Sign Up"})]}),oe.jsxs("p",{className:"text-sm mt-4 text-center",children:["Already have an account?"," ",oe.jsx("a",{href:"/login",className:"text-blue-500 hover:underline font-medium",children:"Login here"})]})]})}const mN=()=>{const[r,e]=G.useState([]),[n,s]=G.useState(""),[o,u]=G.useState(!1),[f,m]=G.useState(null);G.useEffect(()=>{if(!f)return;const S=ZO(VE(sm,"notes"),JO("userId","==",f.uid)),R=aN(S,P=>{const k=P.docs.map(Y=>({id:Y.id,...Y.data()}));e(k)});return()=>R()},[f]),G.useEffect(()=>DI(Lh,R=>{m(R)}),[]);const p=async S=>{if(!f)return;const P={text:S,date:new Date().toLocaleDateString(),userId:f.uid};try{await sN(VE(sm,"notes"),P)}catch(k){console.error("Error adding note: ",k)}},y=async S=>{try{await rN(dA(sm,"notes",S))}catch(R){console.error("Error deleting note: ",R)}},E=()=>oe.jsxs(oe.Fragment,{children:[oe.jsx(uN,{handleToggleDarkMode:u,user:f,darkMode:o}),oe.jsx(Fw,{handleSearchNote:s,searchText:n}),oe.jsx(Hw,{notes:r.filter(S=>S.text.toLowerCase().includes(n.toLowerCase())),handleAddNote:p,handleDeleteNote:y})]});return oe.jsx(Tw,{children:oe.jsxs("div",{className:`${o?"dark bg-gray-900 text-white":""} min-h-screen flex flex-col md:px-12 lg:px-20 xl:px-40`,children:[oe.jsx("div",{className:"flex-grow",children:oe.jsx("div",{className:"container",children:oe.jsxs(Zb,{children:[oe.jsx(Al,{path:"/",element:f?oe.jsx(E,{}):oe.jsx(Kd,{to:"/login"})}),oe.jsx(Al,{path:"/login",element:f?oe.jsx(Kd,{to:"/"}):oe.jsx(fN,{})}),oe.jsx(Al,{path:"/signup",element:f?oe.jsx(Kd,{to:"/"}):oe.jsx(dN,{})}),oe.jsx(Al,{path:"*",element:oe.jsx("h2",{children:"404 - Page Not Found"})})]})})}),oe.jsx(hN,{})]})})},pN=lb.createRoot(document.getElementById("root"));pN.render(oe.jsx(Nr.StrictMode,{children:oe.jsx(mN,{})}));
